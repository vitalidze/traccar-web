/*
 * Framework7 0.9.7
 * Full Featured HTML Framework For Building iOS 7 Apps
 *
 * http://www.idangero.us/framework7
 *
 * Copyright 2014, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under MIT
 *
 * Released on: October 7, 2014
*/

!function(){"use strict";window.Framework7=function(b){function c(a){var b=a.replace(/^./,function(a){return a.toUpperCase()});f["onPage"+b]=function(b,c){return f.onPage(a,b,c)}}function d(){var a=this,b=a.scrollTop,c=a.scrollHeight,d=a.offsetHeight,e=a.getAttribute("data-distance");e||(e=50),"string"==typeof e&&e.indexOf("%")>=0&&(e=parseInt(e,10)/100*d),e>d&&(e=d),b+d>=c-e&&h(a).trigger("infinite")}function e(){f.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var f=this;f.version="0.9.6",f.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,uniqueHistoryIgnoreGetParameters:!1,dynamicPageUrl:"content-{{index}}",router:!0,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:!0,fastClicksDistanceThreshold:0,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageBoxShadow:!0,ajaxLinks:void 0,externalLinks:["external"],sortable:!0,hideNavbarOnPageScroll:!1,hideToolbarOnPageScroll:!1,showBarsOnPageScrollEnd:!0,swipeout:!0,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectInPopup:!1,smartSelectPopupCloseTemplate:'<div class="left"><a href="#" class="link close-popup"><i class="icon icon-back"></i><span>{{closeText}}</span></a></div>',smartSelectPopupCloseText:"Close",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:!0,searchbarHideGroups:!0,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,animatePages:!0,templates:{},templatesData:{},template7Pages:!1,precompileTemplates:!1,init:!0};for(var g in b)f.params[g]=b[g];var h=a,i=Template7;f._compiledTemplates={},f.touchEvents={start:f.support.touch?"touchstart":"mousedown",move:f.support.touch?"touchmove":"mousemove",end:f.support.touch?"touchend":"mouseup"},f.ls=localStorage,f.rtl="rtl"===h("body").css("direction"),f.rtl&&h("html").attr("dir","rtl"),"undefined"!=typeof f.params.statusbarOverlay&&(f.params.statusbarOverlay?h("html").addClass("with-statusbar-overlay"):h("html").removeClass("with-statusbar-overlay")),f.views=[];var j=function(a,b){var c,d={dynamicNavbar:!1,domCache:!1,linksView:void 0,uniqueHistory:f.params.uniqueHistory,uniqueHistoryIgnoreGetParameters:f.params.uniqueHistoryIgnoreGetParameters,swipeBackPage:f.params.swipeBackPage,swipeBackPageBoxShadow:f.params.swipeBackPageBoxShadow,swipeBackPageActiveArea:f.params.swipeBackPageActiveArea,swipeBackPageThreshold:f.params.swipeBackPageThreshold,animatePages:f.params.animatePages,preloadPreviousPage:f.params.preloadPreviousPage};b=b||{};for(var e in d)"undefined"==typeof b[e]&&(b[e]=d[e]);var g=this;g.params=b,g.selector=a;var i=h(a);if(g.container=i[0],g.contentCache={},g.pagesCache={},i[0].f7View=g,g.pagesContainer=i.find(".pages")[0],g.initialPages=[],g.initialNavbars=[],g.params.domCache){var j=i.find(".page");for(c=0;c<j.length;c++)g.initialPages.push(j[c]);if(g.params.dynamicNavbar){var k=i.find(".navbar-inner");for(c=0;c<k.length;c++)g.initialNavbars.push(k[c])}}g.allowPageChange=!0;var l=document.location.href;g.history=[];var m=l,n=f.params.pushStateSeparator,o=f.params.pushStateRoot;f.params.pushState&&(o?m=o:m.indexOf(n)>=0&&m.indexOf(n+"#")<0&&(m=m.split(n)[0]));var p,q;g.activePage||(p=h(g.pagesContainer).find(".page-on-center"),0===p.length&&(p=h(g.pagesContainer).find(".page:not(.cached)"),p=p.eq(p.length-1)),p.length>0&&(q=p[0].f7PageData)),g.params.domCache&&p?(g.url=i.attr("data-url")||g.params.url||"#"+p.attr("data-page"),g.pagesCache[g.url]=p.attr("data-page")):g.url=i.attr("data-url")||g.params.url||m,q&&(q.view=g,q.url=g.url,g.activePage=q,p[0].f7PageData=q),g.url&&g.history.push(g.url),g.main=i.hasClass(f.params.viewMainClass);var r,s,t,u,v,w,x,y,z,A,B=!1,C=!1,D={},E=[],F=[],G=!0,H=[],I=[];if(g.handleTouchStart=function(a){G&&g.params.swipeBackPage&&!B&&!f.swipeoutOpenedEl&&(C=!1,B=!0,r=void 0,D.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,D.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,u=(new Date).getTime(),z=g.params.dynamicNavbar&&i.find(".navbar-inner").length>1)},g.handleTouchMove=function(a){if(B){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof r&&(r=!!(r||Math.abs(c-D.y)>Math.abs(b-D.x))),r||a.f7PreventSwipeBack||f.preventSwipeBack)return void(B=!1);if(!C){var d=!1;s=i.width();var e=h(a.target),j=e.hasClass("swipeout")?e:e.parents(".swipeout");j.length>0&&(!f.rtl&&j.find(".swipeout-actions-left").length>0&&(d=!0),f.rtl&&j.find(".swipeout-actions-right").length>0&&(d=!0)),E=e.is(".page")?e:e.parents(".page"),E.hasClass("no-swipeback")&&(d=!0),F=i.find(".page-on-left:not(.cached)");var k=D.x-i.offset().left>g.params.swipeBackPageActiveArea;if(k=f.rtl?D.x<i.offset().left-i[0].scrollLeft+s-g.params.swipeBackPageActiveArea:D.x-i.offset().left>g.params.swipeBackPageActiveArea,k&&(d=!0),(0===F.length||0===E.length)&&(d=!0),d)return void(B=!1);z&&(H=i.find(".navbar-on-center:not(.cached)"),I=i.find(".navbar-on-left:not(.cached)"),v=H.find(".left, .center, .right"),w=I.find(".left, .center, .right"),f.params.animateNavBackIcon&&(x=H.find(".left.sliding .back .icon"),y=I.find(".left.sliding .back .icon")))}a.f7PreventPanelSwipe=!0,C=!0,a.preventDefault();var l=f.rtl?-1:1;t=(b-D.x-g.params.swipeBackPageThreshold)*l,0>t&&(t=0);var m=t/s,n={percentage:m,activePage:E[0],previousPage:F[0],activeNavbar:H[0],previousNavbar:I[0]};g.params.onSwipeBackMove&&g.params.onSwipeBackMove(n),i.trigger("swipebackmove",n);var o=t*l,p=(t/5-s/5)*l;if(1===f.device.pixelRatio&&(o=Math.round(o),p=Math.round(p)),E.transform("translate3d("+o+"px,0,0)"),g.params.swipeBackPageBoxShadow&&"android"!==f.device.os&&(E[0].style.boxShadow="0px 0px 12px rgba(0,0,0,"+(.5-.5*m)+")"),F.transform("translate3d("+p+"px,0,0)"),F[0].style.opacity=.9+.1*m,z){var q;for(q=0;q<v.length;q++)if(A=h(v[q]),A[0].style.opacity=1-1.3*m,A[0].className.indexOf("sliding")>=0){var u=m*A[0].f7NavbarRightOffset;1===f.device.pixelRatio&&(u=Math.round(u)),A.transform("translate3d("+u+"px,0,0)"),f.params.animateNavBackIcon&&A[0].className.indexOf("left")>=0&&x.length>0&&x.transform("translate3d("+-u+"px,0,0)")}for(q=0;q<w.length;q++)if(A=h(w[q]),A[0].style.opacity=1.3*m-.3,A[0].className.indexOf("sliding")>=0){var G=A[0].f7NavbarLeftOffset*(1-m);1===f.device.pixelRatio&&(G=Math.round(G)),A.transform("translate3d("+G+"px,0,0)"),f.params.animateNavBackIcon&&A[0].className.indexOf("left")>=0&&y.length>0&&y.transform("translate3d("+-G+"px,0,0)")}}}},g.handleTouchEnd=function(){if(!B||!C)return B=!1,void(C=!1);if(B=!1,C=!1,0===t)return h([E[0],F[0]]).transform("").css({opacity:"",boxShadow:""}),void(z&&(v.transform("").css({opacity:""}),w.transform("").css({opacity:""}),x&&x.length>0&&x.transform(""),y&&x.length>0&&y.transform("")));var a=(new Date).getTime()-u,b=!1;if((300>a&&t>10||a>=300&&t>s/2)&&(E.removeClass("page-on-center").addClass("page-on-right"),F.removeClass("page-on-left").addClass("page-on-center"),z&&(H.removeClass("navbar-on-center").addClass("navbar-on-right"),I.removeClass("navbar-on-left").addClass("navbar-on-center")),b=!0),h([E[0],F[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),z&&(v.css({opacity:""}).each(function(){var a=b?this.f7NavbarRightOffset:0,c=h(this);c.transform("translate3d("+a+"px,0,0)"),f.params.animateNavBackIcon&&c.hasClass("left")&&x.length>0&&x.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning"),w.transform("").css({opacity:""}).each(function(){var a=b?0:this.f7NavbarLeftOffset,c=h(this);c.transform("translate3d("+a+"px,0,0)"),f.params.animateNavBackIcon&&c.hasClass("left")&&y.length>0&&y.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning")),G=!1,g.allowPageChange=!1,b){var c=g.history[g.history.length-2];g.url=c,f.pageBackCallbacks("before",g,{pageContainer:E[0],url:c,position:"center",newPage:F,oldPage:E,swipeBack:!0}),f.pageAnimCallbacks("before",g,{pageContainer:F[0],url:c,position:"left",newPage:F,oldPage:E,swipeBack:!0})}E.transitionEnd(function(){h([E[0],F[0]]).removeClass("page-transitioning"),z&&(v.removeClass("page-transitioning").css({opacity:""}),w.removeClass("page-transitioning").css({opacity:""}),x&&x.length>0&&x.removeClass("page-transitioning"),y&&y.length>0&&y.removeClass("page-transitioning")),G=!0,g.allowPageChange=!0,b&&(f.params.pushState&&history.back(),f.pageBackCallbacks("after",g,{pageContainer:E[0],url:c,position:"center",newPage:F,oldPage:E,swipeBack:!0}),f.pageAnimCallbacks("after",g,{pageContainer:F[0],url:c,position:"left",newPage:F,oldPage:E,swipeBack:!0}),f.router.afterBack(g,E,F))})},g.attachEvents=function(a){var b=a?"off":"on";i[b](f.touchEvents.start,g.handleTouchStart),i[b](f.touchEvents.move,g.handleTouchMove),i[b](f.touchEvents.end,g.handleTouchEnd)},g.detachEvents=function(){g.attachEvents(!0)},g.params.swipeBackPage&&g.attachEvents(),f.views.push(g),g.main&&(f.mainView=g),g.router={load:function(a){return f.router.load(g,a)},back:function(a){return f.router.back(g,a)},loadPage:function(a){if(a=a||{},"string"==typeof a){var b=a;a={},b&&0===b.indexOf("#")&&g.params.domCache?a.pageName=b.split("#")[1]:a.url=b}return f.router.load(g,a)},loadContent:function(a){return f.router.load(g,{content:a})},reloadPage:function(a){return f.router.load(g,{url:a,reload:!0})},reloadContent:function(a){return f.router.load(g,{content:a,reload:!0})},reloadPreviousPage:function(a){return f.router.load(g,{url:a,reloadPrevious:!0,reload:!0})},reloadPreviousContent:function(a){return f.router.load(g,{content:a,reloadPrevious:!0,reload:!0})},refreshPage:function(){var a={url:g.url,reload:!0,ignoreCache:!0};return a.url&&0===a.url.indexOf("#")&&(g.params.domCache&&g.pagesCache[a.url]?(a.pageName=g.pagesCache[a.url],a.url=void 0,delete a.url):g.contentCache[a.url]&&(a.content=g.contentCache[a.url],a.url=void 0,delete a.url)),f.router.load(g,a)},refreshPreviousPage:function(){var a={url:g.history[g.history.length-2],reload:!0,reloadPrevious:!0,ignoreCache:!0};return a.url&&0===a.url.indexOf("#")&&g.params.domCache&&g.pagesCache[a.url]&&(a.pageName=g.pagesCache[a.url],a.url=void 0,delete a.url),f.router.load(g,a)}},g.loadPage=g.router.loadPage,g.loadContent=g.router.loadContent,g.reloadPage=g.router.reloadPage,g.reloadContent=g.router.reloadContent,g.reloadPreviousPage=g.router.reloadPreviousPage,g.reloadPreviousContent=g.router.reloadPreviousContent,g.refreshPage=g.router.refreshPage,g.refreshPreviousPage=g.router.refreshPreviousPage,g.back=g.router.back,g.hideNavbar=function(){return f.hideNavbar(i)},g.showNavbar=function(){return f.showNavbar(i)},g.hideToolbar=function(){return f.hideToolbar(i)},g.showToolbar=function(){return f.showToolbar(i)},f.params.pushState&&g.main){var J;o?J=l.split(f.params.pushStateRoot+n)[1]:l.indexOf(n)>=0&&l.indexOf(n+"#")<0&&(J=l.split(n)[1]);var K=f.params.pushStateNoAnimation?!1:void 0;if(J)f.router.load(g,{url:J,animatePages:K,pushState:!1});else if(l.indexOf(n+"#")>=0){var L=history.state;L.pageName&&"viewIndex"in L&&f.router.load(g,{pageName:L.pageName,pushState:!1})}}return g.destroy=function(){g.detachEvents(),g=void 0},f.pluginHook("addView",g),g};f.addView=function(a,b){return new j(a,b)},f.navbarInitCallback=function(a,b,c,d,e,g){var i={container:c,innerContainer:d},j={url:e,query:h.parseUrlQuery(e||""),container:b,name:h(b).attr("data-page"),view:a,from:g},k={navbar:i,page:j};f.pluginHook("navbarInit",i,j),h(d).trigger("navbarInit",k)},f.sizeNavbars=function(a){var b=a?h(a).find(".navbar .navbar-inner:not(.cached)"):h(".navbar .navbar-inner:not(.cached)");b.each(function(){var a=h(this);if(!a.hasClass("cached")){var b,c,d=a.find(f.rtl?".right":".left"),e=a.find(f.rtl?".left":".right"),g=a.find(".center"),i=0===d.length,j=0===e.length,k=i?0:d.outerWidth(!0),l=j?0:e.outerWidth(!0),m=g.outerWidth(!0),n=a.width(),o=a.hasClass("navbar-on-left");j&&(b=n-m),i&&(b=0),i||j||(b=(n-l-m+k)/2);var p=(n-m)/2;n-k-l>m?(k>p&&(p=k),p+m>n-l&&(p=n-l-m),c=p-b):c=0;var q=f.rtl?-1:1,r=c;f.rtl&&i&&j&&g.length>0&&(r=-r),g.css({left:r+"px"}),g.hasClass("sliding")&&(g[0].f7NavbarLeftOffset=-(b+c)*q,g[0].f7NavbarRightOffset=(n-b-c-m)*q,o&&g.transform("translate3d("+g[0].f7NavbarLeftOffset+"px, 0, 0)")),!i&&d.hasClass("sliding")&&(f.rtl?(d[0].f7NavbarLeftOffset=-(n-d.outerWidth())/2*q,d[0].f7NavbarRightOffset=k*q):(d[0].f7NavbarLeftOffset=-k,d[0].f7NavbarRightOffset=(n-d.outerWidth())/2),o&&d.transform("translate3d("+d[0].f7NavbarLeftOffset+"px, 0, 0)")),!j&&e.hasClass("sliding")&&(f.rtl?(e[0].f7NavbarLeftOffset=-l*q,e[0].f7NavbarRightOffset=(n-e.outerWidth())/2*q):(e[0].f7NavbarLeftOffset=-(n-e.outerWidth())/2,e[0].f7NavbarRightOffset=l),o&&e.transform("translate3d("+e[0].f7NavbarLeftOffset+"px, 0, 0)"))}})},f.hideNavbar=function(a){return h(a).addClass("hidden-navbar"),!0},f.showNavbar=function(a){var b=h(a);return b.addClass("hiding-navbar").removeClass("hidden-navbar").find(".navbar").transitionEnd(function(){b.removeClass("hiding-navbar")}),!0},f.hideToolbar=function(a){return h(a).addClass("hidden-toolbar"),!0},f.showToolbar=function(a){var b=h(a);b.addClass("hiding-toolbar").removeClass("hidden-toolbar").find(".toolbar").transitionEnd(function(){b.removeClass("hiding-toolbar")})},f.initSearchbar=function(a){function b(){o.val("").trigger("change"),m.removeClass("searchbar-active searchbar-not-empty"),q.length>0&&q.css(w,-v+"px"),r&&n.removeClass("searchbar-overlay-active"),f.device.ios?setTimeout(function(){o.blur(),r.trigger("disableSearch")},400):(o.blur(),r.trigger("disableSearch"))}function c(){f.device.ios?setTimeout(function(){r&&!m.hasClass("searchbar-active")&&n.addClass("searchbar-overlay-active"),m.addClass("searchbar-active"),q.length>0&&q.css(w,"0px"),r.trigger("enableSearch")},400):(r&&!m.hasClass("searchbar-active")&&n.addClass("searchbar-overlay-active"),m.addClass("searchbar-active"),q.length>0&&q.css(w,"0px"),r.trigger("enableSearch"))}function d(){o.val("").trigger("change"),r.trigger("clearSearch")}function e(){setTimeout(function(){var a=o.val().trim();0===a.length?(m.removeClass("searchbar-not-empty"),r&&m.hasClass("searchbar-active")&&n.addClass("searchbar-overlay-active")):(m.addClass("searchbar-not-empty"),r&&m.hasClass("searchbar-active")&&n.removeClass("searchbar-overlay-active")),r.length>0&&s&&k(a)},0)}function g(a){a.preventDefault()}function i(a){var f=a?"off":"on";m[f]("submit",g),q[f]("click",b),n[f]("click",b),o[f]("focus",c),o[f]("change keydown keypress keyup",e),p[f]("click",d)}function j(){i(!0)}function k(a){var b=a.trim().toLowerCase().split(" ");r.find("li").removeClass("hidden-by-searchbar");var c=[];r.find("li").each(function(a,d){d=h(d);var e=d.find(s);if(0!==e.length){var f;f=e.text().trim().toLowerCase();for(var g=0,i=0;i<b.length;i++)f.indexOf(b[i])>=0&&g++;g!==b.length?d.addClass("hidden-by-searchbar"):c.push(d[0])}}),f.params.searchbarHideDividers&&r.find(".item-divider, .list-group-title").each(function(){for(var a=h(this),b=a.nextAll("li"),c=!0,d=0;d<b.length;d++){var e=h(b[d]);if(e.hasClass("list-group-title")||e.hasClass("item-divider"))break;e.hasClass("hidden-by-searchbar")||(c=!1)}c?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")}),f.params.searchbarHideGroups&&r.find(".list-group").each(function(){var a=h(this),b=a.find("li:not(.hidden-by-searchbar)");0===b.length?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")}),r.trigger("search",{query:a,foundItems:c}),0===c.length?(u.show(),t.hide()):(u.hide(),t.show())}function l(){j(),a.off("pageBeforeRemove",l)}a=h(a);var m=a.hasClass("searchbar")?a:a.find(".searchbar");if(0!==m.length){a.hasClass("page")||(a=m.parents(".page").eq(0));var n=a.hasClass("page")?a.find(".searchbar-overlay"):h(".searchbar-overlay"),o=m.find('input[type="search"]'),p=m.find(".searchbar-clear"),q=m.find(".searchbar-cancel"),r=h(m.attr("data-search-list")),s=m.attr("data-search-in"),t=(m.attr("data-search-by"),m.attr("data-searchbar-found"));t?t=h(t):(t=a.find(".searchbar-found"),0===t.length&&(t=h(".searchbar-found")));var u=m.attr("data-searchbar-not-found");u?u=h(u):(u=a.find(".searchbar-not-found"),0===u.length&&(u=h(".searchbar-not-found")));var v,w=f.rtl?"margin-left":"margin-right";q.length>0&&(v=q.width(),q.css(w,-v+"px")),m[0].f7DestroySearchbar=j,i(),a.hasClass("page")&&a.on("pageBeforeRemove",l)}},f.destroySearchbar=function(a){a=h(a);var b=a.hasClass("searchbar")?a:a.find(".searchbar");0!==b.length&&b[0].f7DestroySearchbar&&b[0].f7DestroySearchbar()},f.initMessagebar=function(a){function b(a){a.preventDefault()}function c(){k.css({height:""});var a=k[0].offsetHeight,b=a-k[0].clientHeight,c=k[0].scrollHeight;if(c+b>a){var d=c+b,e=m+(d-n),f=i.attr("data-max-height")||i.parents(".view")[0].offsetHeight-88;e>f&&(e=f,d=e-m+n),k.css("height",d+"px"),i.css("height",e+"px"),l.length>0&&(l.css("padding-bottom",e+"px"),l.scrollTop(l[0].scrollHeight-l[0].offsetHeight))}else l.length>0&&(i.css({height:""}),l.css({"padding-bottom":""}))}function d(){clearTimeout(j),j=setTimeout(function(){c()},0)}function e(a){var c=a?"off":"on";i[c]("submit",b),k[c]("change keydown keypress keyup paste cut",d)}function f(){e(!0)}function g(){f(),a.off("pageBeforeRemove",g)}a=h(a);var i=a.hasClass("messagebar")?a:a.find(".messagebar");if(0!==i.length){var j,k=i.find("textarea"),l=i.parents(".page").find(".page-content"),m=i[0].offsetHeight,n=k[0].offsetHeight;i[0].f7DestroyMessagebar=f,e(),a.hasClass("page")&&a.on("pageBeforeRemove",g)}},f.destroyMessagebar=function(a){a=h(a);var b=a.hasClass("messagebar")?a:a.find(".messagebar");0!==b.length&&b[0].f7DestroyMessagebar&&b[0].f7DestroyMessagebar()},f.cache=[],f.removeFromCache=function(a){for(var b=!1,c=0;c<f.cache.length;c++)f.cache[c].url===a&&(b=c);b!==!1&&f.cache.splice(b,1)},f.xhr=!1,f.get=function(a,b,c,d){var e=a;if(f.params.cacheIgnoreGetParameters&&a.indexOf("?")>=0&&(e=a.split("?")[0]),f.params.cache&&!c&&a.indexOf("nocache")<0&&f.params.cacheIgnore.indexOf(e)<0)for(var g=0;g<f.cache.length;g++)if(f.cache[g].url===e&&(new Date).getTime()-f.cache[g].time<f.params.cacheDuration)return d(f.cache[g].content),!1;return f.xhr=h.ajax({url:a,method:"GET",start:f.params.onAjaxStart,complete:function(a){200===a.status||0===a.status?(f.params.cache&&!c&&(f.removeFromCache(e),f.cache.push({url:e,time:(new Date).getTime(),content:a.responseText})),d(a.responseText,!1)):d(a.responseText,!0),f.params.onAjaxComplete&&f.params.onAjaxComplete(a)},error:function(a){d(a.responseText,!0),f.params.onAjaxError&&f.params.onAjaxonAjaxError(a)}}),b&&(b.xhr=f.xhr),f.xhr},f.pageCallbacks={},f.onPage=function(a,b,c){if(b&&b.split(" ").length>1){for(var d=b.split(" "),e=[],g=0;g<d.length;g++)e.push(f.onPage(a,d[g],c));return e.remove=function(){for(var a=0;a<e.length;a++)e[a].remove()},e.trigger=function(){for(var a=0;a<e.length;a++)e[a].trigger()},e}var h=f.pageCallbacks[a][b];return h||(h=f.pageCallbacks[a][b]=[]),f.pageCallbacks[a][b].push(c),{remove:function(){for(var a,b=0;b<h.length;b++)h[b].toString()===c.toString()&&(a=b);"undefined"!=typeof a&&h.splice(a,1)},trigger:c}};for(var k="beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove".split(" "),l=0;l<k.length;l++)f.pageCallbacks[k[l]]={},c(k[l]);f.triggerPageCallbacks=function(a,b,c){var d=f.pageCallbacks[a]["*"];if(d)for(var e=0;e<d.length;e++)d[e](c);var g=f.pageCallbacks[a][b];if(g&&0!==g.length)for(var h=0;h<g.length;h++)g[h](c)},f.pageInitCallback=function(a,b,c,d,e){if(!b.f7PageInitialized||a.params.domCache){var g={container:b,url:c,query:h.parseUrlQuery(c||""),name:h(b).attr("data-page"),view:a,from:d,navbarInnerContainer:e};if(b.f7PageInitialized&&a.params.domCache)return f.reinitPage(b),f.pluginHook("pageReinit",g),f.params.onPageReinit&&f.params.onPageBeforeInit(f,g),f.triggerPageCallbacks("reinit",g.name,g),void h(g.container).trigger("pageReinit",{page:g});b.f7PageInitialized=!0,b.f7PageData=g,a&&(a.activePage=g),f.pluginHook("pageBeforeInit",g),f.params.onPageBeforeInit&&f.params.onPageBeforeInit(f,g),f.triggerPageCallbacks("beforeInit",g.name,g),h(g.container).trigger("pageBeforeInit",{page:g}),f.initPage(b),f.pluginHook("pageInit",g),f.params.onPageInit&&f.params.onPageInit(f,g),f.triggerPageCallbacks("init",g.name,g),h(g.container).trigger("pageInit",{page:g})}},f.pageRemoveCallback=function(a,b,c){var d={container:b,name:h(b).attr("data-page"),view:a,from:c};f.pluginHook("pageBeforeRemove",d),f.params.onPageBeforeRemove&&f.params.onPageBeforeRemove(f,d),f.triggerPageCallbacks("beforeRemove",d.name,d),h(d.container).trigger("pageBeforeRemove",{page:d})},f.pageBackCallbacks=function(a,b,c){var d=c.pageContainer,e={container:c.pageContainer,name:h(d).attr("data-page"),url:d.f7PageData&&d.f7PageData.url,query:d.f7PageData&&d.f7PageData.query,view:b,from:c.position,swipeBack:c.swipeBack};"after"===a&&(f.pluginHook("pageAfterBack",e),f.params.onPageAfterBack&&f.params.onPageAfterBack(f,e),f.triggerPageCallbacks("afterBack",e.name,e),h(d).trigger("pageAfterBack",{page:e})),"before"===a&&(f.pluginHook("pageBack",e),f.params.onPageBack&&f.params.onPageBack(f,e),f.triggerPageCallbacks("back",e.name,e),h(e.container).trigger("pageBack",{page:e}))},f.pageAnimCallbacks=function(a,b,c){var d={container:c.pageContainer,url:c.url,query:h.parseUrlQuery(c.url||""),name:h(c.pageContainer).attr("data-page"),view:b,from:c.position,swipeBack:c.swipeBack},e=c.oldPage,g=c.newPage;c.pageContainer.f7PageData=d,"after"===a&&(f.pluginHook("pageAfterAnimation",d),f.params.onPageAfterAnimation&&f.params.onPageAfterAnimation(f,d),f.triggerPageCallbacks("afterAnimation",d.name,d),h(d.container).trigger("pageAfterAnimation",{page:d})),"before"===a&&(h(b.container).attr("data-page",d.name),b&&(b.activePage=d),g.hasClass("no-navbar")&&!e.hasClass("no-navbar")&&b.hideNavbar(),g.hasClass("no-navbar")||!e.hasClass("no-navbar")&&!e.hasClass("no-navbar-by-scroll")||b.showNavbar(),g.hasClass("no-toolbar")&&!e.hasClass("no-toolbar")&&b.hideToolbar(),g.hasClass("no-toolbar")||!e.hasClass("no-toolbar")&&!e.hasClass("no-toolbar-by-scroll")||b.showToolbar(),e.removeClass("no-navbar-by-scroll no-toolbar-by-scroll"),f.pluginHook("pageBeforeAnimation",d),f.params.onPageBeforeAnimation&&f.params.onPageBeforeAnimation(f,d),f.triggerPageCallbacks("beforeAnimation",d.name,d),h(d.container).trigger("pageBeforeAnimation",{page:d}))},f.initPage=function(a){f.sizeNavbars&&f.sizeNavbars(h(a).parents("."+f.params.viewClass)[0]),f.initMessages&&f.initMessages(a),f.initFormsStorage&&f.initFormsStorage(a),f.initSmartSelects&&f.initSmartSelects(a),f.initSlider&&f.initSlider(a),f.initPullToRefresh&&f.initPullToRefresh(a),f.initInfiniteScroll&&f.initInfiniteScroll(a),f.initSearchbar&&f.initSearchbar(a),f.initMessagebar&&f.initMessagebar(a),f.initScrollToolbars&&f.initScrollToolbars(a)},f.reinitPage=function(a){f.sizeNavbars&&f.sizeNavbars(h(a).parents("."+f.params.viewClass)[0]),f.reinitSlider&&f.reinitSlider(a)},f.router={temporaryDom:document.createElement("div"),findElement:function(a,b,c,d){b=h(b),d&&(a+=":not(.cached)");var e=b.find(a);return e.length>1&&("string"==typeof c.selector&&(e=b.find(c.selector+" "+a)),e.length>1&&(e=b.find("."+f.params.viewMainClass+" "+a))),1===e.length?e:(d||(e=f.router.findElement(a,b,c,!0)),e&&1===e.length?e:void 0)},animatePages:function(a,b,c){var d="page-on-center page-on-right page-on-left";"to-left"===c&&(a.removeClass(d).addClass("page-from-center-to-left"),b.removeClass(d).addClass("page-from-right-to-center")),"to-right"===c&&(a.removeClass(d).addClass("page-from-left-to-center"),b.removeClass(d).addClass("page-from-center-to-right"))},prepareNavbar:function(a,b,c){h(a).find(".sliding").each(function(){var a=h(this),d="right"===c?this.f7NavbarRightOffset:this.f7NavbarLeftOffset;f.params.animateNavBackIcon&&(a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-d+"px,0,0)"),"left"===c&&a.hasClass("center")&&h(b).find(".left .back .icon ~ span").length>0&&(d+=h(b).find(".left .back span")[0].offsetLeft)),a.transform("translate3d("+d+"px,0,0)")})},animateNavbars:function(a,b,c){var d="navbar-on-right navbar-on-center navbar-on-left";"to-left"===c&&(b.removeClass(d).addClass("navbar-from-right-to-center"),b.find(".sliding").each(function(){var a=h(this);a.transform("translate3d(0px,0,0)"),f.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),a.removeClass(d).addClass("navbar-from-center-to-left"),a.find(".sliding").each(function(){var a=h(this);f.params.animateNavBackIcon&&(a.hasClass("center")&&b.find(".sliding.left .back .icon").length>0&&(this.f7NavbarLeftOffset+=b.find(".sliding.left .back span")[0].offsetLeft),a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===c&&(a.removeClass(d).addClass("navbar-from-left-to-center"),a.find(".sliding").each(function(){var a=h(this);a.transform("translate3d(0px,0,0)"),f.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),b.removeClass(d).addClass("navbar-from-center-to-right"),b.find(".sliding").each(function(){var a=h(this);f.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),a.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))},preprocess:function(a,b,c){f.pluginHook("routerPreprocess",a,b,c),a=f.pluginProcess("preprocess",a),f.params.preprocess?(a=f.params.preprocess(a,b,c),"undefined"!=typeof a&&c(a)):c(a)},template7Render:function(a,b){{var c,d,e=b.url,g=b.content,j=b.content,k=b.context,l=b.contextName,m=b.template;b.pageName}if("string"==typeof g?e?f.templatesCache[e]?d=i.templatesCache[e]:(d=i.compile(g),i.templatesCache[e]=d):d=i.compile(g):m&&(d=m),k)c=k;else{if(l)if(l.indexOf(".")>=0){for(var n=l.split("."),o=i.data[n[0]],p=1;p<n.length;p++)n[p]&&(o=o[n[p]]);c=o}else c=i.data[l];if(!c&&e&&(c=i.data["url:"+e]),!c&&"string"==typeof g&&!m){var q=g.match(/(data-page=["'][^"^']*["'])/);if(q){var r=q[0].split("data-page=")[1].replace(/['"]/g,"");r&&(c=i.data["page:"+r])}}if(!c&&m&&i.templates)for(var s in i.templates)i.templates[s]===m&&(c=i.data[s]);c||(c={})}if(d&&c){if("function"==typeof c&&(c=c()),e){var t=h.parseUrlQuery(e);c.url_query={};for(var u in t)c.url_query[u]=t[u]}j=d(c)}return j}},f.router._load=function(a,b){function c(){a.allowPageChange=!0,d.removeClass("page-from-right-to-center page-on-right").addClass("page-on-center"),e.removeClass("page-from-center-to-left page-on-center").addClass("page-on-left"),m&&(k.removeClass("navbar-from-right-to-center navbar-on-right").addClass("navbar-on-center"),j.removeClass("navbar-from-center-to-left navbar-on-center").addClass("navbar-on-left")),f.pageAnimCallbacks("after",a,{pageContainer:d[0],url:o,position:"right",oldPage:e,newPage:d}),f.params.pushState&&f.pushStateClearQueue(),a.params.swipeBackPage||a.params.preloadPreviousPage||(a.params.domCache?(e.addClass("cached"),j.addClass("cached")):(0!==o.indexOf("#")||0!==d.attr("data-page").indexOf("smart-select-"))&&(f.pageRemoveCallback(a,e[0],"left"),e.remove(),m&&j.remove())),a.params.uniqueHistory&&D&&a.refreshPreviousPage()}b=b||{};var d,e,g,i,j,k,l,m,n,o=b.url,p=b.content,q=b.content,r=b.template,s=b.pageName,t=h(a.container),u=h(a.pagesContainer),v=b.animatePages,w="undefined"==typeof o&&p||r,x=b.pushState;if("undefined"==typeof v&&(v=a.params.animatePages),f.pluginHook("routerLoad",a,b),(f.params.template7Pages&&"string"==typeof p||r)&&(q=f.router.template7Render(a,b),q&&!p&&(p=q)),f.router.temporaryDom.innerHTML="",!s)if(o||"string"==typeof p)f.router.temporaryDom.innerHTML=q;else if("length"in p&&p.length>1)for(var y=0;y<p.length;y++)h(f.router.temporaryDom).append(p[y]);else h(f.router.temporaryDom).append(p);if(n=b.reload&&(b.reloadPrevious?"left":"center"),d=s?u.find('.page[data-page="'+s+'"]'):f.router.findElement(".page",f.router.temporaryDom,a),!d||0===d.length||s&&a.activePage&&a.activePage.name===s)return void(a.allowPageChange=!0);if(d.addClass(b.reload?"page-on-"+n:"page-on-right"),g=u.children(".page:not(.cached)"),b.reload&&b.reloadPrevious&&1===g.length)return void(a.allowPageChange=!0);if(b.reload)e=g.eq(g.length-1);else{if(g.length>1){for(i=0;i<g.length-2;i++)a.params.domCache?h(g[i]).addClass("cached"):(f.pageRemoveCallback(a,g[i],"left"),h(g[i]).remove());a.params.domCache?h(g[i]).addClass("cached"):(f.pageRemoveCallback(a,g[i],"left"),h(g[i]).remove())}e=u.children(".page:not(.cached)")}if(a.params.domCache&&d.removeClass("cached"),a.params.dynamicNavbar)if(m=!0,k=s?t.find('.navbar-inner[data-page="'+s+'"]'):f.router.findElement(".navbar-inner",f.router.temporaryDom,a),k&&0!==k.length||(m=!1),l=t.find(".navbar"),b.reload)j=l.find(".navbar-inner:not(.cached):last-child");else if(j=l.find(".navbar-inner:not(.cached)"),j.length>0){for(i=0;i<j.length-1;i++)a.params.domCache?h(j[i]).addClass("cached"):h(j[i]).remove();k||1!==j.length||(a.params.domCache?h(j[0]).addClass("cached"):h(j[0]).remove()),j=l.find(".navbar-inner:not(.cached)")}if(m&&(k.addClass(b.reload?"navbar-on-"+n:"navbar-on-right"),a.params.domCache&&k.removeClass("cached"),d[0].f7RelatedNavbar=k[0],k[0].f7RelatedPage=d[0]),!o){var z=s||d.attr("data-page");o=w?"#"+f.params.dynamicPageUrl.replace(/{{name}}/g,z).replace(/{{index}}/g,a.history.length-(b.reload?1:0)):"#"+z,a.params.domCache||(a.contentCache[o]=p),a.params.domCache&&s&&(a.pagesCache[o]=s)}if(f.params.pushState&&!b.reloadPrevious&&a.main){"undefined"==typeof x&&(x=!0);var A=f.params.pushStateRoot||"",B=b.reload?"replaceState":"pushState";x&&(w||s?w&&p?history[B]({content:p,url:o,viewIndex:f.views.indexOf(a)},"",A+f.params.pushStateSeparator+o):s&&history[B]({pageName:s,url:o,viewIndex:f.views.indexOf(a)},"",A+f.params.pushStateSeparator+o):history[B]({url:o,viewIndex:f.views.indexOf(a)},"",A+f.params.pushStateSeparator+o))}if(a.url=o,b.reload){var C=a.history[a.history.length-(b.reloadPrevious?2:1)];C&&0===C.indexOf("#")&&C in a.contentCache&&C!==o&&(a.contentCache[C]=null,delete a.contentCache[C]),a.history[a.history.length-(b.reloadPrevious?2:1)]=o}else a.history.push(o);var D=!1;if(a.params.uniqueHistory){var E=a.history,F=o;if(a.params.uniqueHistoryIgnoreGetParameters)for(E=[],F=o.split("?")[0],i=0;i<a.history.length;i++)E.push(a.history[i].split("?")[0]);E.indexOf(F)!==E.lastIndexOf(F)&&(a.history=a.history.slice(0,E.indexOf(F)),a.history.push(o),D=!0)}if(b.reloadPrevious?(e=e.prev(".page"),d.insertBefore(e),m&&(j=j.prev(".navbar-inner"),k.insertAfter(j))):(u.append(d[0]),m&&l.append(k[0])),b.reload&&(a.params.domCache&&a.initialPages.indexOf(e[0])>=0?(e.addClass("cached"),m&&j.addClass("cached")):(f.pageRemoveCallback(a,e[0],n),e.remove(),m&&j.remove())),f.pageInitCallback(a,d[0],o,b.reload?n:"right",m?k[0]:void 0),m&&f.navbarInitCallback(a,d[0],l[0],k[0],o,b.reload?n:"right"),b.reload)return a.allowPageChange=!0,void(D&&a.refreshPreviousPage());m&&v&&f.router.prepareNavbar(k,j,"right");d[0].clientLeft;f.pageAnimCallbacks("before",a,{pageContainer:d[0],url:o,position:"right",oldPage:e,newPage:d}),v?(f.router.animatePages(e,d,"to-left",a),m&&setTimeout(function(){f.router.animateNavbars(j,k,"to-left",a)
},0),d.animationEnd(function(){c()})):c()},f.router.load=function(a,b){function c(c){f.router.preprocess(c,d,function(c){b.content=c,f.router._load(a,b)})}var d=b.url,e=b.content,g=b.pageName,h=b.template;return a.allowPageChange?d&&a.url===d&&!b.reload?!1:(a.allowPageChange=!1,f.xhr&&a.xhr&&a.xhr===f.xhr&&(f.xhr.abort(),f.xhr=!1),e||g?void c(e):h?void f.router._load(a,b):b.url&&"#"!==b.url?void f.get(b.url,a,b.ignoreCache,function(b,d){return d?void(a.allowPageChange=!0):void c(b)}):void(a.allowPageChange=!0)):!1},f.router._back=function(a,b){function c(){f.pageBackCallbacks("after",a,{pageContainer:i[0],url:p,position:"center",oldPage:i,newPage:j}),f.pageAnimCallbacks("after",a,{pageContainer:j[0],url:p,position:"left",oldPage:i,newPage:j}),f.router.afterBack(a,i[0],j[0])}function d(){f.pageBackCallbacks("before",a,{pageContainer:i[0],url:p,position:"center",oldPage:i,newPage:j}),f.pageAnimCallbacks("before",a,{pageContainer:j[0],url:p,position:"left",oldPage:i,newPage:j}),t?(f.router.animatePages(j,i,"to-right",a),o&&setTimeout(function(){f.router.animateNavbars(l,k,"to-right",a)},0),j.animationEnd(function(){c()})):(l.find(".sliding, .sliding .back .icon").transform(""),c())}function e(){if(f.router.temporaryDom.innerHTML="",p||"string"==typeof q)f.router.temporaryDom.innerHTML=r;else if("length"in q&&q.length>1)for(var b=0;b<q.length;b++)h(f.router.temporaryDom).append(q[b]);else h(f.router.temporaryDom).append(q);j=f.router.findElement(".page",f.router.temporaryDom,a),a.params.dynamicNavbar&&(l=f.router.findElement(".navbar-inner",f.router.temporaryDom,a))}function g(){if(!j||0===j.length)return void(a.allowPageChange=!0);if(a.params.dynamicNavbar&&(o=l&&0!==l.length?!0:!1),j.addClass("page-on-left").removeClass("cached"),o&&(m=y.find(".navbar"),n=y.find(".navbar-inner:not(.cached)"),l.addClass("navbar-on-left").removeClass("cached")),w){var b,c;b=h(A[A.length-2]),o&&(c=h(b[0].f7RelatedNavbar||n[n.length-2])),a.params.domCache&&a.initialPages.indexOf(b[0])>=0?(b.addClass("cached"),o&&c.addClass("cached")):(b.remove(),o&&c.remove()),A=z.children(".page:not(.cached)"),o&&(n=y.find(".navbar-inner:not(.cached)")),a.history.indexOf(p)>=0?a.history=a.history.slice(0,a.history.indexOf(p)+2):a.history[a.history.length-2]=p}if(i=h(A[A.length-1]),o&&(k=h(n[n.length-1])),o&&(B&&l.insertBefore(k),l[0].f7RelatedPage=j[0],j[0].f7RelatedNavbar=l[0]),B&&j.insertBefore(i),f.pageInitCallback(a,j[0],p,"left",o?l[0]:void 0),o&&f.navbarInitCallback(a,j[0],m[0],l[0],p,"right"),o&&l.hasClass("navbar-on-left")&&t&&f.router.prepareNavbar(l,k,"left"),u)return void(a.allowPageChange=!0);a.url=p;j[0].clientLeft;d()}b=b||{};var i,j,k,l,m,n,o,p=b.url,q=b.content,r=b.content,s=b.template,t=b.animatePages,u=b.preloadOnly,v=b.pushState,w=(b.ignoreCache,b.force),x=b.pageName,y=h(a.container),z=h(a.pagesContainer),A=z.children(".page:not(.cached)"),B=!0;return"undefined"==typeof t&&(t=a.params.animatePages),f.pluginHook("routerBack",a,b),(f.params.template7Pages&&"string"==typeof q||s)&&(r=f.router.template7Render(a,b),r&&!q&&(q=r)),f.params.pushState&&("undefined"==typeof v&&(v=!0),!u&&history.state&&v&&history.back()),A.length>1&&!w?u?void(a.allowPageChange=!0):(a.url=a.history[a.history.length-2],p=a.url,j=h(A[A.length-2]),i=h(A[A.length-1]),a.params.dynamicNavbar&&(o=!0,n=y.find(".navbar-inner:not(.cached)"),l=h(n[0]),k=h(n[1])),B=!1,void g()):w?p&&p===a.url||x&&a.activePage&&a.activePage.name===x?void(a.allowPageChange=!0):q?(e(),void g()):x&&a.params.domCache?(x&&(p="#"+x),j=h(y).find('.page[data-page="'+x+'"]'),j[0].f7PageData&&j[0].f7PageData.url&&(p=j[0].f7PageData.url),a.params.dynamicNavbar&&(l=h(y).find('.navbar-inner[data-page="'+x+'"]'),0===l.length&&(l=h(j[0].f7RelatedNavbar))),void g()):void(a.allowPageChange=!0):(a.url=a.history[a.history.length-2],p=a.url,q?(e(),void g()):x?(j=h(y).find('.page[data-page="'+x+'"]'),a.params.dynamicNavbar&&(l=h(y).find('.navbar-inner[data-page="'+x+'"]')),void g()):void(a.allowPageChange=!0))},f.router.back=function(a,b){function c(c){f.router.preprocess(c,d,function(c){b.content=c,f.router._back(a,b)})}b=b||{};var d=b.url,e=b.content,g=b.pageName,i=b.force;if(!a.allowPageChange)return!1;a.allowPageChange=!1,f.xhr&&a.xhr&&a.xhr===f.xhr&&(f.xhr.abort(),f.xhr=!1);var j=h(a.pagesContainer).find(".page:not(.cached)");if(j.length>1&&!i)return void f.router._back(a,b);if(i){if(!d&&e)return void c(e);if(!d&&g)return g&&(d="#"+g),void c();if(d)return void f.get(b.url,a,b.ignoreCache,function(b,d){return d?void(a.allowPageChange=!0):void c(b)})}else{if(d=b.url=a.history[a.history.length-2],!d)return void(a.allowPageChange=!0);if(0===d.indexOf("#")&&a.contentCache[d])return void c(a.contentCache[d]);if(0===d.indexOf("#")&&a.params.domCache)return g||(b.pageName=d.split("#")[1]),void c();if(d.indexOf("#")<0)return void f.get(b.url,a,b.ignoreCache,function(b,d){return d?void(a.allowPageChange=!0):void c(b)})}a.allowPageChange=!0},f.router.afterBack=function(a,b,c){b=h(b),c=h(c),a.params.domCache&&a.initialPages.indexOf(b[0])>=0?b.removeClass("page-from-center-to-right").addClass("cached"):(b.remove(),f.pageRemoveCallback(a,b[0],"right")),c.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),a.allowPageChange=!0;var d,e=a.history.pop();if(a.params.dynamicNavbar){var g=h(a.container).find(".navbar-inner:not(.cached)"),i=h(b[0].f7RelatedNavbar||g[1]);a.params.domCache&&a.initialNavbars.indexOf(i[0])>=0?i.removeClass("navbar-from-center-to-right").addClass("cached"):i.remove(),d=h(g[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(a.params.domCache&&h(a.container).find(".page.cached").each(function(){var b=h(this),c=(b.index(),b[0].f7PageData&&b[0].f7PageData.url);c&&a.history.indexOf(c)<0&&a.initialPages.indexOf(this)<0&&(b[0].f7RelatedNavbar&&h(b[0].f7RelatedNavbar).remove(),b.remove())}),!a.params.domCache&&e&&e.indexOf("#")>-1&&e in a.contentCache&&(a.contentCache[e]=null,delete a.contentCache[e]),f.params.pushState&&f.pushStateClearQueue(),a.params.preloadPreviousPage)if(a.params.domCache&&a.history.length>1){var j,k,l=a.history[a.history.length-2];l&&a.pagesCache[l]?(j=h(a.container).find('.page[data-page="'+a.pagesCache[l]+'"]'),j.insertBefore(c),d&&(k=h(a.container).find('.navbar-inner[data-page="'+a.pagesCache[l]+'"]'),k.insertBefore(d))):(j=c.prev(".page.cached"),d&&(k=d.prev(".navbar-inner.cached"))),j&&j.length>0&&j.removeClass("cached page-on-right page-on-center").addClass("page-on-left"),k&&k.length>0&&k.removeClass("cached navbar-on-right navbar-on-center").addClass("navbar-on-left")}else f.router.back(a,{preloadOnly:!0})};var m=document.createElement("div");f.modal=function(a){a=a||{};var b="";if(f.params.modalTemplate)f._compiledTemplates.modal||(f._compiledTemplates.modal=i.compile(f.params.modalTemplate)),b=f._compiledTemplates.modal(a);else{var c="";if(a.buttons&&a.buttons.length>0)for(var d=0;d<a.buttons.length;d++)c+='<span class="modal-button'+(a.buttons[d].bold?" modal-button-bold":"")+'">'+a.buttons[d].text+"</span>";var e=a.title?'<div class="modal-title">'+a.title+"</div>":"",g=a.text?'<div class="modal-text">'+a.text+"</div>":"",j=a.afterText?a.afterText:"",k=a.buttons&&0!==a.buttons.length?"":"modal-no-buttons";b='<div class="modal '+k+'"><div class="modal-inner">'+(e+g+j)+'</div><div class="modal-buttons">'+c+"</div></div>"}m.innerHTML=b;var l=h(m).children();return h("body").append(l[0]),l.find(".modal-button").each(function(b,c){h(c).on("click",function(c){a.buttons[b].close!==!1&&f.closeModal(l),a.buttons[b].onClick&&a.buttons[b].onClick(l,c),a.onClick&&a.onClick(l,b)})}),f.openModal(l),l[0]},f.alert=function(a,b,c){return"function"==typeof b&&(c=arguments[1],b=void 0),f.modal({text:a||"",title:"undefined"==typeof b?f.params.modalTitle:b,buttons:[{text:f.params.modalButtonOk,bold:!0,onClick:c}]})},f.confirm=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),f.modal({text:a||"",title:"undefined"==typeof b?f.params.modalTitle:b,buttons:[{text:f.params.modalButtonCancel,onClick:d},{text:f.params.modalButtonOk,bold:!0,onClick:c}]})},f.prompt=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),f.modal({text:a||"",title:"undefined"==typeof b?f.params.modalTitle:b,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:f.params.modalButtonCancel},{text:f.params.modalButtonOk,bold:!0}],onClick:function(a,b){0===b&&d&&d(h(a).find(".modal-text-input").val()),1===b&&c&&c(h(a).find(".modal-text-input").val())}})},f.modalLogin=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),f.modal({text:a||"",title:"undefined"==typeof b?f.params.modalTitle:b,afterText:'<input type="text" name="modal-username" placeholder="'+f.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+f.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:f.params.modalButtonCancel},{text:f.params.modalButtonOk,bold:!0}],onClick:function(a,b){var e=h(a).find('.modal-text-input[name="modal-username"]').val(),f=h(a).find('.modal-text-input[name="modal-password"]').val();0===b&&d&&d(e,f),1===b&&c&&c(e,f)}})},f.modalPassword=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),f.modal({text:a||"",title:"undefined"==typeof b?f.params.modalTitle:b,afterText:'<input type="password" name="modal-password" placeholder="'+f.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:f.params.modalButtonCancel},{text:f.params.modalButtonOk,bold:!0}],onClick:function(a,b){var e=h(a).find('.modal-text-input[name="modal-password"]').val();0===b&&d&&d(e),1===b&&c&&c(e)}})},f.showPreloader=function(a){return f.modal({title:a||f.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},f.hidePreloader=function(){f.closeModal(".modal.modal-in")},f.showIndicator=function(){h("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},f.hideIndicator=function(){h(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},f.actions=function(a,b){var c,d,e,g=!1;1===arguments.length?b=a:f.device.ios?f.device.ipad&&(g=!0):h(window).width()>=768&&(g=!0),b=b||[],b.length>0&&!h.isArray(b[0])&&(b=[b]);var j;if(g){var k='<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';f._compiledTemplates.actionsPopover||(f._compiledTemplates.actionsPopover=i.compile(k));var l=f._compiledTemplates.actionsPopover(b);c=h(f.popover(l,a,!0)),d=".list-block ul",e=".list-button"}else{if(f.params.modalActionsTemplate)f._compiledTemplates.actions||(f._compiledTemplates.actions=i.compile(f.params.modalActionsTemplate)),j=f._compiledTemplates.actions(b);else{for(var n="",o=0;o<b.length;o++)for(var p=0;p<b[o].length;p++){0===p&&(n+='<div class="actions-modal-group">');var q=b[o][p],r=q.label?"actions-modal-label":"actions-modal-button";q.bold&&(r+=" actions-modal-button-bold"),q.color&&(r+=" color-"+q.color),n+='<span class="'+r+'">'+q.text+"</span>",p===b[o].length-1&&(n+="</div>")}j='<div class="actions-modal">'+n+"</div>"}m.innerHTML=j,c=h(m).children(),h("body").append(c[0]),d=".actions-modal-group",e=".actions-modal-button"}var s=c.find(d);return s.each(function(a,d){var i=a;h(d).children().each(function(a,d){var j,k=a,l=b[i][k];!g&&h(d).is(e)&&(j=h(d)),g&&h(d).find(e).length>0&&(j=h(d).find(e)),j&&j.on("click",function(a){l.close!==!1&&f.closeModal(c),l.onClick&&l.onClick(c,a)})})}),g||f.openModal(c),c[0]},f.popover=function(a,b,c){function d(){a.css({left:"",top:""});var c=a.width(),d=a.height(),e=a.find(".popover-angle"),f=e.width()/2;e.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var g=b.outerWidth(),i=b.outerHeight(),j=b.offset(),k=b.parents(".page");k.length>0&&(j.top=j.top-k[0].scrollTop);var l=h(window).height(),m=h(window).width(),n=0,o=0,p=0,q="top";d+f<j.top?n=j.top-d-f:d+f<l-j.top-i?(q="bottom",n=j.top+i+f):(q="middle",n=i/2+j.top-d/2,p=n,0>n?n=5:n+d>l&&(n=l-d-5),p-=n),"top"===q||"bottom"===q?(o=g/2+j.left-c/2,p=o,5>o&&(o=5),o+c>m&&(o=m-c-5),"top"===q&&e.addClass("on-bottom"),"bottom"===q&&e.addClass("on-top"),p-=o,e.css({left:c/2-f+p+"px"})):"middle"===q&&(o=j.left-c-f,e.addClass("on-right"),5>o&&(o=j.left+g+f,e.removeClass("on-right").addClass("on-left")),o+c>m&&(o=m-c-5,e.removeClass("on-right").addClass("on-left")),e.css({top:d/2-f+p+"px"})),a.css({top:n+"px",left:o+"px"})}if("undefined"==typeof c&&(c=!0),"string"==typeof a&&a.indexOf("<")>=0){var e=document.createElement("div");if(e.innerHTML=h.trim(a),!(e.childNodes.length>0))return!1;a=e.childNodes[0],c&&a.classList.add("remove-on-close"),h("body").append(a)}return a=h(a),b=h(b),0===a.length||0===b.length?!1:(0===a.find(".popover-angle").length&&a.append('<div class="popover-angle"></div>'),a.show(),d(),h(window).on("resize",d),a.on("close",function(){h(window).off("resize",d)}),a.find("."+f.params.viewClass).length>0&&f.sizeNavbars(a.find("."+f.params.viewClass)[0]),f.openModal(a),a[0])},f.popup=function(a,b){if("undefined"==typeof b&&(b=!0),"string"==typeof a&&a.indexOf("<")>=0){var c=document.createElement("div");if(c.innerHTML=h.trim(a),!(c.childNodes.length>0))return!1;a=c.childNodes[0],b&&a.classList.add("remove-on-close"),h("body").append(a)}return a=h(a),0===a.length?!1:(a.show(),a.find("."+f.params.viewClass).length>0&&f.sizeNavbars(a.find("."+f.params.viewClass)[0]),f.openModal(a),a[0])},f.loginScreen=function(a){return a||(a=".login-screen"),a=h(a),0===a.length?!1:(a.show(),a.find("."+f.params.viewClass).length>0&&f.sizeNavbars(a.find("."+f.params.viewClass)[0]),f.openModal(a),a[0])},f.openModal=function(a){a=h(a);var b=a.hasClass("popover"),c=a.hasClass("popup"),d=a.hasClass("login-screen");b||c||d||a.css({marginTop:-Math.round(a.outerHeight()/2)+"px"});var e;d||(0!==h(".modal-overlay").length||c||h("body").append('<div class="modal-overlay"></div>'),0===h(".popup-overlay").length&&c&&h("body").append('<div class="popup-overlay"></div>'),e=h(c?".popup-overlay":".modal-overlay"));a[0].clientLeft;return a.trigger("open"),d||e.addClass("modal-overlay-visible"),a.removeClass("modal-out").addClass("modal-in").transitionEnd(function(){a.trigger(a.hasClass("modal-out")?"closed":"opened")}),!0},f.closeModal=function(a){if(a=h(a||".modal-in"),"undefined"==typeof a||0!==a.length){var b=a.hasClass("popover"),c=a.hasClass("popup"),d=a.hasClass("login-screen"),e=a.hasClass("remove-on-close"),f=h(c?".popup-overlay":".modal-overlay");return c?a.length===h(".popup.modal-in").length&&f.removeClass("modal-overlay-visible"):f.removeClass("modal-overlay-visible"),a.trigger("close"),b?(a.removeClass("modal-in modal-out").trigger("closed").hide(),e&&a.remove()):a.removeClass("modal-in").addClass("modal-out").transitionEnd(function(){a.trigger(a.hasClass("modal-out")?"closed":"opened"),c||d?(a.removeClass("modal-out").hide(),e&&a.length>0&&a.remove()):a.remove()}),!0}},f.allowPanelOpen=!0,f.openPanel=function(a){function b(){e.transitionEnd(function(a){h(a.target).is(e)?(c.trigger(c.hasClass("active")?"opened":"closed"),f.allowPanelOpen=!0):b()})}if(!f.allowPanelOpen)return!1;var c=h(".panel-"+a);if(0===c.length||c.hasClass("active"))return!1;f.closePanel(),f.allowPanelOpen=!1;var d=c.hasClass("panel-reveal")?"reveal":"cover";c.css({display:"block"}).addClass("active"),c.trigger("open"),c.find("."+f.params.viewClass).length>0&&f.sizeNavbars&&f.sizeNavbars(c.find("."+f.params.viewClass)[0]);var e=(c[0].clientLeft,"reveal"===d?h("."+f.params.viewsClass):c);return b(),h("body").addClass("with-panel-"+a+"-"+d),!0},f.closePanel=function(){var a=h(".panel.active");if(0===a.length)return!1;var b=a.hasClass("panel-reveal")?"reveal":"cover",c=a.hasClass("panel-left")?"left":"right";a.removeClass("active");var d="reveal"===b?h("."+f.params.viewsClass):a;a.trigger("close"),f.allowPanelOpen=!1,d.transitionEnd(function(){a.hasClass("active")||(a.css({display:""}),a.trigger("closed"),h("body").removeClass("panel-closing"),f.allowPanelOpen=!0)}),h("body").addClass("panel-closing").removeClass("with-panel-"+c+"-"+b)},f.initSwipePanels=function(){function a(a){if(f.allowPanelOpen&&f.params.swipePanel&&!e&&!(h(".modal-in, .photo-browser-in").length>0||!f.params.swipePanelCloseOpposite&&h(".panel.active").length>0&&!d.hasClass("active"))){if(s.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,s.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,f.params.swipePanelCloseOpposite&&(q=h(".panel.active").length>0?h(".panel.active").hasClass("panel-left")?"left":"right":f.params.swipePanel),d=h(".panel.panel-"+q),f.params.swipePanelActiveArea){if("left"===q&&s.x>f.params.swipePanelActiveArea)return;if("right"===q&&s.x<window.innerWidth-f.params.swipePanelActiveArea)return}g=!1,e=!0,i=void 0,j=(new Date).getTime(),p=void 0}}function b(a){if(e&&!a.f7PreventPanelSwipe){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof i&&(i=!!(i||Math.abs(c-s.y)>Math.abs(b-s.x))),i)return void(e=!1);if(!p&&(p=b>s.x?"to-right":"to-left","left"===q&&"to-left"===p&&!d.hasClass("active")||"right"===q&&"to-right"===p&&!d.hasClass("active")))return void(e=!1);if(f.params.swipePanelNoFollow){var h=(new Date).getTime()-j;return 300>h&&("to-left"===p&&("right"===q&&f.openPanel(q),"left"===q&&d.hasClass("active")&&f.closePanel()),"to-right"===p&&("left"===q&&f.openPanel(q),"right"===q&&d.hasClass("active")&&f.closePanel())),e=!1,void(g=!1)}g||(o=d.hasClass("panel-cover")?"cover":"reveal",d.show(),r.show(),m=d.hasClass("active"),n=d.width(),d.transition(0),d.find("."+f.params.viewClass).length>0&&f.sizeNavbars&&f.sizeNavbars(d.find("."+f.params.viewClass)[0])),g=!0,a.preventDefault();var u=m?0:-f.params.swipePanelThreshold;"right"===q&&(u=-u),k=b-s.x+u,"right"===q?(l=k-(m?n:0),l>0&&(l=0),-n>l&&(l=-n)):(l=k+(m?n:0),0>l&&(l=0),l>n&&(l=n)),"reveal"===o?(t.transform("translate3d("+l+"px,0,0)").transition(0),r.transform("translate3d("+l+"px,0,0)"),f.pluginHook("swipePanelSetTransform",t[0],d[0],Math.abs(l/n))):(d.transform("translate3d("+l+"px,0,0)").transition(0),f.pluginHook("swipePanelSetTransform",t[0],d[0],Math.abs(l/n)))}}function c(){if(!e||!g)return e=!1,void(g=!1);e=!1,g=!1;var a,b=(new Date).getTime()-j,c=0===l||Math.abs(l)===n;if(a=m?l===-n?"reset":300>b&&Math.abs(l)>=0||b>=300&&Math.abs(l)<=n/2?"left"===q&&l===n?"reset":"swap":"reset":0===l?"reset":300>b&&Math.abs(l)>0||b>=300&&Math.abs(l)>=n/2?"swap":"reset","swap"===a&&(f.allowPanelOpen=!0,m?(f.closePanel(),c&&(d.css({display:""}),h("body").removeClass("panel-closing"))):f.openPanel(q),c&&(f.allowPanelOpen=!0)),"reset"===a)if(m)f.allowPanelOpen=!0,f.openPanel(q);else if(f.closePanel(),c)f.allowPanelOpen=!0,d.css({display:""});else{var i="reveal"===o?t:d;h("body").addClass("panel-closing"),i.transitionEnd(function(){f.allowPanelOpen=!0,d.css({display:""}),h("body").removeClass("panel-closing")})}"reveal"===o&&(t.transition(""),t.transform("")),d.transition("").transform(""),r.css({display:""}).transform("")}var d=h(".panel.panel-"+f.params.swipePanel);if(0!==d.length){var e,g,i,j,k,l,m,n,o,p,q,r=h(".panel-overlay"),s={},t=h("."+f.params.viewsClass);q=f.params.swipePanel,h(document).on(f.touchEvents.start,a),h(document).on(f.touchEvents.move,b),h(document).on(f.touchEvents.end,c)}},f.initMessages=function(a){var b=h(a),c=b.find(".messages");if(0!==c.length){var d=b.find(".page-content");c.hasClass("new-messages-first")||(d[0].scrollTop=c.height()-d.height()),c.hasClass("messages-auto-layout")&&f.updateMessagesLayout(c)}},f.addMessage=function(a){if(a=a||{},a.type=a.type||"sent",!a.text||0===a.length)return!1;var b=h(".messages-content");if(0===b.length)return!1;var c=b.find(".messages"),d=c.hasClass("new-messages-first"),e="";a.day&&(e+='<div class="messages-date">'+a.day+(a.time?",":"")+(a.time?" <span>"+a.time+"</span>":"")+"</div>");var g=a.text.indexOf("<img")>=0?"message-pic":"",i=a.avatar?"message-with-avatar":"",j="message message-"+a.type+" "+g+" "+i+" message-appear";e+='<div class="'+j+'">'+(a.name?'<div class="message-name">'+a.name+"</div>":"")+'<div class="message-text">'+a.text+"</div>"+(a.avatar?'<div class="message-avatar" style="background-image:url('+a.avatar+')"></div>':"")+"</div>",d?c.prepend(e):c.append(e),c.hasClass("messages-auto-layout")&&f.updateMessagesLayout(c),f.scrollMessagesContainer(b)},f.updateMessagesLayout=function(a){a.find(".message").each(function(){var a=h(this);a.find(".message-text img").length>0&&a.addClass("message-pic"),a.find(".message-avatar").length>0&&a.addClass("message-with-avatar")}),a.find(".message-sent").each(function(){var a=h(this),b=a.next(".message-sent"),c=a.prev(".message-sent");0===b.length?a.addClass("message-last message-with-tail"):a.removeClass("message-last message-with-tail"),0===c.length?a.addClass("message-first"):a.removeClass("message-first"),c.length>0&&c.find(".message-name").length>0&&a.find(".message-name").length>0&&c.find(".message-name").text()!==a.find(".message-name").text()&&(c.addClass("message-last message-with-tail"),a.addClass("message-first"))}),a.find(".message-received").each(function(){var a=h(this),b=a.next(".message-received"),c=a.prev(".message-received");0===b.length?a.addClass("message-last message-with-tail"):a.removeClass("message-last message-with-tail"),0===c.length?a.addClass("message-first"):a.removeClass("message-first"),c.length>0&&c.find(".message-name").length>0&&a.find(".message-name").length>0&&c.find(".message-name").text()!==a.find(".message-name").text()&&(c.addClass("message-last message-with-tail"),a.addClass("message-first"))})},f.scrollMessagesContainer=function(a){if(a=h(a||".messages-content"),0!==a.length){var b=a.find(".messages"),c=b.hasClass("new-messages-first"),d=a[0].scrollTop,e=c?0:b.height()-a.height();e!==d&&a.scrollTop(e,300)}},f.swipeoutOpenedEl=void 0,f.allowSwipeout=!0,f.initSwipeout=function(a){function b(a){f.allowSwipeout&&(g=!1,e=!0,i=void 0,B.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,B.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,j=(new Date).getTime())}function c(a){if(e){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof i&&(i=!!(i||Math.abs(c-B.y)>Math.abs(b-B.x))),i)return void(e=!1);if(!g){if(h(".list-block.sortable-opened").length>0)return;l=h(this),m=l.find(".swipeout-content"),n=l.find(".swipeout-actions-right"),o=l.find(".swipeout-actions-left"),p=q=u=v=y=x=null,o.length>0&&(p=o.width(),u=o.children("a"),x=o.find(".swipeout-overswipe")),n.length>0&&(q=n.width(),v=n.children("a"),y=n.find(".swipeout-overswipe")),s=l.hasClass("swipeout-opened"),s&&(t=l.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),l.removeClass("transitioning"),f.params.swipeoutNoFollow||(l.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),l.removeClass("swipeout-opened"))}if(g=!0,a.preventDefault(),k=b-B.x,r=k,s&&("right"===t?r-=q:r+=p),r>0&&0===o.length||0>r&&0===n.length){if(!s)return void(e=g=!1);r=0}w=0>r?"to-left":r>0?"to-right":w?w:"to-left";var d,j,C;if(a.f7PreventPanelSwipe=!0,f.params.swipeoutNoFollow)return s?("right"===t&&k>0&&f.swipeoutClose(l),"left"===t&&0>k&&f.swipeoutClose(l)):(0>k&&n.length>0&&f.swipeoutOpen(l,"right"),k>0&&o.length>0&&f.swipeoutOpen(l,"left")),e=!1,void(g=!1);z=!1,A=!1;var D;if(n.length>0)for(C=r/q,-q>r&&(r=-q-Math.pow(-r-q,.8),y.length>0&&(A=!0)),d=0;d<v.length;d++)"undefined"==typeof v[d]._buttonOffset&&(v[d]._buttonOffset=v[d].offsetLeft),j=v[d]._buttonOffset,D=h(v[d]),y.length>0&&D.hasClass("swipeout-overswipe")&&D.css({left:(A?-j:0)+"px"}),D.transform("translate3d("+(r-j*(1+Math.max(C,-1)))+"px,0,0)");if(o.length>0)for(C=r/p,r>p&&(r=p+Math.pow(r-p,.8),x.length>0&&(z=!0)),d=0;d<u.length;d++)"undefined"==typeof u[d]._buttonOffset&&(u[d]._buttonOffset=p-u[d].offsetLeft-u[d].offsetWidth),j=u[d]._buttonOffset,D=h(u[d]),x.length>0&&D.hasClass("swipeout-overswipe")&&D.css({left:(z?j:0)+"px"}),D.css("z-index",u.length-d).transform("translate3d("+(r+j*(1-Math.min(C,1)))+"px,0,0)");m.transform("translate3d("+r+"px,0,0)")}}function d(){if(!e||!g)return e=!1,void(g=!1);e=!1,g=!1;var a,b,c,d,i,t=(new Date).getTime()-j;if(c="to-left"===w?n:o,b="to-left"===w?q:p,a=300>t&&(-10>k&&"to-left"===w||k>10&&"to-right"===w)||t>=300&&Math.abs(r)>b/2?"open":"close",300>t&&(0===Math.abs(r)&&(a="close"),Math.abs(r)===b&&(a="open")),"open"===a){f.swipeoutOpenedEl=l,l.trigger("open"),l.addClass("swipeout-opened transitioning");var x="to-left"===w?-b:b;if(m.transform("translate3d("+x+"px,0,0)"),c.addClass("swipeout-actions-opened"),d="to-left"===w?v:u)for(i=0;i<d.length;i++)h(d[i]).transform("translate3d("+x+"px,0,0)");A&&n.find(".swipeout-overswipe")[0].click(),z&&o.find(".swipeout-overswipe")[0].click()}else l.trigger("close"),f.swipeoutOpenedEl=void 0,l.addClass("transitioning").removeClass("swipeout-opened"),m.transform(""),c.removeClass("swipeout-actions-opened");var y;if(u&&u.length>0&&u!==d)for(i=0;i<u.length;i++)y=u[i]._buttonOffset,"undefined"==typeof y&&(u[i]._buttonOffset=p-u[i].offsetLeft-u[i].offsetWidth),h(u[i]).transform("translate3d("+y+"px,0,0)");if(v&&v.length>0&&v!==d)for(i=0;i<v.length;i++)y=v[i]._buttonOffset,"undefined"==typeof y&&(v[i]._buttonOffset=v[i].offsetLeft),h(v[i]).transform("translate3d("+-y+"px,0,0)");m.transitionEnd(function(){s&&"open"===a||closed&&"close"===a||(l.trigger("open"===a?"opened":"closed"),s&&"close"===a&&(n.length>0&&v.transform(""),o.length>0&&u.transform("")))})}var e,g,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B={};h(document).on(f.touchEvents.start,function(a){if(f.swipeoutOpenedEl){var b=h(a.target);f.swipeoutOpenedEl.is(b[0])||b.parents(".swipeout").is(f.swipeoutOpenedEl)||b.hasClass("modal-in")||b.parents(".modal-in").length>0||b.hasClass("modal-overlay")||f.swipeoutClose(f.swipeoutOpenedEl)}}),a?(h(a).on(f.touchEvents.start,b),h(a).on(f.touchEvents.move,c),h(a).on(f.touchEvents.end,d)):(h(document).on(f.touchEvents.start,".list-block li.swipeout",b),h(document).on(f.touchEvents.move,".list-block li.swipeout",c),h(document).on(f.touchEvents.end,".list-block li.swipeout",d))},f.swipeoutOpen=function(a,b){if(a=h(a),0!==a.length&&(a.length>1&&(a=h(a[0])),a.hasClass("swipeout")&&!a.hasClass("swipeout-opened"))){b||(b=a.find(".swipeout-actions-right").length>0?"right":"left");var c=a.find(".swipeout-actions-"+b);if(0!==c.length){a.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),c.addClass("swipeout-actions-opened");var d,e=c.children("a"),g=c.width(),i="right"===b?-g:g;if(e.length>1){for(d=0;d<e.length;d++)"right"===b?h(e[d]).transform("translate3d("+-e[d].offsetLeft+"px,0,0)"):h(e[d]).css("z-index",e.length-d).transform("translate3d("+(g-e[d].offsetWidth-e[d].offsetLeft)+"px,0,0)");{e[1].clientLeft}}for(a.addClass("transitioning"),d=0;d<e.length;d++)h(e[d]).transform("translate3d("+i+"px,0,0");a.find(".swipeout-content").transform("translate3d("+i+"px,0,0)").transitionEnd(function(){a.trigger("opened")}),f.swipeoutOpenedEl=a}}},f.swipeoutClose=function(a){if(a=h(a),0!==a.length&&a.hasClass("swipeout-opened")){var b=a.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",c=a.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),d=c.children("a"),e=c.width();f.allowSwipeout=!1,a.trigger("close"),a.removeClass("swipeout-opened").addClass("transitioning"),a.find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(function(){a.trigger("closed"),d.transform(""),f.allowSwipeout=!0});for(var g=0;g<d.length;g++)h(d[g]).transform("right"===b?"translate3d("+-d[g].offsetLeft+"px,0,0)":"translate3d("+(e-d[g].offsetWidth-d[g].offsetLeft)+"px,0,0)"),h(d[g]).css({left:"0px"});f.swipeoutOpenedEl&&f.swipeoutOpenedEl[0]===a[0]&&(f.swipeoutOpenedEl=void 0)}},f.swipeoutDelete=function(a){if(a=h(a),0!==a.length){a.length>1&&(a=h(a[0])),f.swipeoutOpenedEl=void 0,a.trigger("delete"),a.css({height:a.outerHeight()+"px"});{a[0].clientLeft}a.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){a.trigger("deleted"),a.remove()});var b="-100%";a.find(".swipeout-content").transform("translate3d("+b+",0,0)")}},f.sortableToggle=function(a){return a=h(a),0===a.length&&(a=h(".list-block.sortable")),a.toggleClass("sortable-opened"),a.trigger(a.hasClass("sortable-opened")?"open":"close"),a},f.sortableOpen=function(a){return a=h(a),0===a.length&&(a=h(".list-block.sortable")),a.addClass("sortable-opened"),a.trigger("open"),a},f.sortableClose=function(a){return a=h(a),0===a.length&&(a=h(".list-block.sortable")),a.removeClass("sortable-opened"),a.trigger("close"),a},f.initSortable=function(){function a(a){e=!1,d=!0,g="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,j=h(this).parent(),k=j.parent().find("li"),p=j.parents(".sortable"),a.preventDefault(),f.allowsPanelOpen=f.allowSwipeout=!1}function b(a){if(d&&j){var b=("touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,"touchmove"===a.type?a.targetTouches[0].pageY:a.pageY);e||(j.addClass("sorting"),p.addClass("sortable-sorting"),l=j[0].offsetTop,m=j.parent().height()-j[0].offsetTop-j.height()),e=!0,a.preventDefault(),a.f7PreventPanelSwipe=!0,i=b-g;var c=i;-l>c&&(c=-l),c>m&&(c=m),j.transform("translate3d(0,"+c+"px,0)"),o=n=void 0,k.each(function(){var a=h(this);if(a[0]!==j[0]){var b=a[0].offsetTop,d=a.height(),e=j[0].offsetTop+c;e>=b-d/2&&j.index()<a.index()?(a.transform("translate3d(0,-100%,0)"),n=a,o=void 0):b+d/2>=e&&j.index()>a.index()?(h(this).transform("translate3d(0,100%,0)"),n=void 0,o||(o=a)):h(this).transform("translate3d(0, 0%,0)")}})}}function c(a){return f.allowsPanelOpen=f.allowSwipeout=!0,d&&e?(a.preventDefault(),k.transform(""),j.removeClass("sorting"),p.removeClass("sortable-sorting"),n&&(j.insertAfter(n),j.trigger("sort")),o&&(j.insertBefore(o),j.trigger("sort")),n=o=void 0,d=!1,void(e=!1)):(d=!1,void(e=!1))}var d,e,g,i,j,k,l,m,n,o,p;h(document).on(f.touchEvents.start,".list-block.sortable .sortable-handler",a),f.support.touch?(h(document).on(f.touchEvents.move,".list-block.sortable .sortable-handler",b),h(document).on(f.touchEvents.end,".list-block.sortable .sortable-handler",c)):(h(document).on(f.touchEvents.move,b),h(document).on(f.touchEvents.end,c))},f.initSmartSelects=function(a){var b=h(a);if(0!==b.length){var c=b.find(".smart-select");0!==c.length&&c.each(function(){var a=h(this),b=a.find("select");if(0!==b.length){var c=b[0];if(0!==c.length){for(var d=[],e=0;e<c.length;e++)c[e].selected&&d.push(c[e].textContent.trim());var f=a.find(".item-after");0===f.length?a.find(".item-inner").append('<div class="item-after">'+d.join(", ")+"</div>"):f.text(d)}}})}},f.smartSelectOpen=function(a){function b(b){h(b).find('input[name="'+u+'"]').on("change",function(){var b=this,c=b.value,f=[];if("checkbox"===b.type)for(var h=0;h<e.options.length;h++){var i=e.options[h];i.value===c&&(i.selected=b.checked),i.selected&&f.push(i.textContent.trim())}else f=[a.find('option[value="'+c+'"]').text()],e.value=c;g.trigger("change"),a.find(".item-after").text(f.join(", ")),r&&"radio"===t&&d.router.back()})}function c(a){var d=a.detail.page;d.name===G&&(h(document).off("pageInit",c),b(d.container))}if(a=h(a),0!==a.length){var d=a.parents("."+f.params.viewClass);if(0!==d.length&&(d=d[0].f7View)){var e=a.find("select")[0],g=h(e);if(!(e.disabled||a.hasClass("disabled")||g.hasClass("disabled"))){var j={};j.length=e.length;
for(var k,l=0;l<e.length;l++)k=h(e[l]),j[l]={value:e[l].value,text:e[l].textContent.trim(),selected:e[l].selected,group:k.parent("optgroup")[0],image:k.attr("data-option-image")||g.attr("data-option-image"),icon:k.attr("data-option-icon")||g.attr("data-option-icon"),disabled:e[l].disabled};var m=a.attr("data-open-in");m||(m=f.params.smartSelectInPopup?"popup":"page");for(var n,o=a.attr("data-page-title")||a.find(".item-title").text(),p=a.attr("data-back-text")||f.params.smartSelectBackText,q=a.attr("data-popup-close-text")||a.attr("data-back-text")||f.params.smartSelectPopupCloseText,r=a.attr("data-back-onselect")?"true"===a.attr("data-back-onselect")?!0:!1:f.params.smartSelectBackOnSelect,s=(new Date).getTime(),t=e.multiple?"checkbox":"radio",u=t+"-"+s,v="",w=0;w<j.length;w++)if(!j[w].disabled){var x=j[w].selected?"checked":"";j[w].group&&j[w].group!==n&&(v+='<li class="item-divider">'+j[w].group.label+"</li>",n=j[w].group);var y="";"checkbox"===t&&(y+='<i class="icon icon-form-checkbox"></i>'),j[w].icon&&(y+='<i class="icon '+j[w].icon+'"></i>'),j[w].image&&(y+='<img src="'+j[w].image+'">'),v+='<li><label class="label-'+t+' item-content"><input type="'+t+'" name="'+u+'" value="'+j[w].value+'" '+x+">"+(""!==y?'<div class="item-media">'+y+"</div>":"")+'<div class="item-inner"><div class="item-title">'+j[w].text+"</div></div></label></li>"}var z="popup"===m?f.params.smartSelectPopupCloseTemplate.replace(/{{closeText}}/g,q):f.params.smartSelectBackTemplate.replace(/{{backText}}/g,p),A='<div class="navbar">  <div class="navbar-inner">'+z+'    <div class="center sliding">'+o+"</div>  </div></div>";f.params.smartSelectNavbarTemplate&&(f._compiledTemplates.smartSelectNavbar||(f._compiledTemplates.smartSelectNavbar=i.compile(f.params.smartSelectNavbarTemplate)),A=f._compiledTemplates.smartSelectNavbar({pageTitle:o,backText:p,openIn:m,inPopup:"popup"===m,inPage:"page"===m,id:s,inputType:t}));var B,C="",D="";"page"===m?(B="static",a.parents(".navbar-through").length>0&&(B="through"),a.parents(".navbar-fixed").length>0&&(B="fixed"),D=a.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",C=a.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+B):B="fixed";var E,F,G="smart-select-"+u,H="undefined"==typeof a.data("searchbar")?f.params.smartSelectSearchbar:"true"===a.data("searchbar")?!0:!1;H&&(E=a.data("searchbar-placeholder")||"Search",F=a.data("searchbar-cancel")||"Cancel");var I='<form class="searchbar" data-search-list=".smart-select-list-'+s+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+E+'"><a href="#" class="searchbar-clear"></a></div><a href="#" class="searchbar-cancel">'+F+'</a></form><div class="searchbar-overlay"></div>',J=("through"===B?A:"")+'<div class="pages">  <div data-page="'+G+'" class="page smart-select-page '+C+" "+D+'">'+("fixed"===B?A:"")+(H?I:"")+'    <div class="page-content">'+("static"===B?A:"")+'      <div class="list-block smart-select-list-'+s+'">        <ul>'+v+"        </ul>      </div>    </div>  </div></div>";if(h(document).on("pageInit",c),"popup"===m){var K=f.popup('<div class="popup smart-select-popup smart-select-popup-'+u+'"><div class="view navbar-fixed">'+J+"</div></div>");b(K)}else d.router.load({content:J})}}}},f.initPullToRefresh=function(a){function b(a){if(i){if("android"!==f.device.os)return;if("targetTouches"in a&&a.targetTouches.length>1)return}j=!1,i=!0,k=void 0,q=void 0,r.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,r.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,m=(new Date).getTime(),n=h(this)}function c(a){if(i){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof k&&(k=!!(k||Math.abs(c-r.y)>Math.abs(b-r.x))),!k)return void(i=!1);if(p=n[0].scrollTop,"undefined"==typeof q&&0!==p&&(q=!0),!j){if(n.removeClass("transitioning"),p>n[0].offsetHeight)return void(i=!1);u=n.hasClass("refreshing")?44:0,t=n[0].scrollHeight===n[0].offsetHeight||"ios"!==f.device.os?!0:!1}return j=!0,l=c-r.y,l>0&&0>=p||0>p?("ios"===f.device.os&&parseInt(f.device.osVersion.split(".")[0],10)>7&&0===p&&!q&&(t=!0),t&&(a.preventDefault(),o=Math.pow(l,.85)+u,n.transform("translate3d(0,"+o+"px,0)")),t&&Math.pow(l,.85)>44||!t&&l>=88?(s=!0,n.addClass("pull-up").removeClass("pull-down")):(s=!1,n.removeClass("pull-up").addClass("pull-down")),void 0):(n.removeClass("pull-up pull-down"),void(s=!1))}}function d(){return i&&j?(o&&(n.addClass("transitioning"),o=0),n.transform(""),s?(n.addClass("refreshing"),n.trigger("refresh",{done:function(){f.pullToRefreshDone(n)}})):n.removeClass("pull-down"),i=!1,void(j=!1)):(i=!1,void(j=!1))}function e(){g.off(f.touchEvents.start,b),g.off(f.touchEvents.move,c),g.off(f.touchEvents.end,d),v.off("pageBeforeRemove",e)}var g=h(a);if(g.hasClass("pull-to-refresh-content")||(g=g.find(".pull-to-refresh-content")),0!==g.length){var i,j,k,l,m,n,o,p,q,r={},s=!1,t=!1,u=0,v=g.hasClass("page")?g:g.parents(".page"),w=!1;(v.find(".navbar").length>0||v.parents(".navbar-fixed, .navbar-through").length>0||v.hasClass("navbar-fixed")||v.hasClass("navbar-through"))&&(w=!0),v.hasClass("no-navbar")&&(w=!1),w||g.addClass("pull-to-refresh-no-navbar"),g&&(n=g),g.on(f.touchEvents.start,b),g.on(f.touchEvents.move,c),g.on(f.touchEvents.end,d),0!==v.length&&v.on("pageBeforeRemove",e)}},f.pullToRefreshDone=function(a){a=h(a),0===a.length&&(a=h(".pull-to-refresh-content.refreshing")),a.removeClass("refreshing").addClass("transitioning"),a.transitionEnd(function(){a.removeClass("transitioning pull-up pull-down")})},f.pullToRefreshTrigger=function(a){a=h(a),0===a.length&&(a=h(".pull-to-refresh-content")),a.hasClass("refreshing")||(a.addClass("transitioning refreshing"),a.trigger("refresh",{done:function(){f.pullToRefreshDone(a)}}))},f.attachInfiniteScroll=function(a){h(a).on("scroll",d)},f.detachInfiniteScroll=function(a){h(a).off("scroll",d)},f.initInfiniteScroll=function(a){function b(){f.detachInfiniteScroll(c),a.off("pageBeforeRemove",b)}a=h(a);var c=a.find(".infinite-scroll");0!==c.length&&(f.attachInfiniteScroll(c),a.on("pageBeforeRemove",b))},f.initScrollToolbars=function(a){function b(){a.hasClass("page-on-left")||(j=c[0].scrollTop,m=c[0].scrollHeight,n=c[0].offsetHeight,o=f.params.showBarsOnPageScrollEnd&&j+n>=m-s,q=g.hasClass("hidden-navbar"),r=g.hasClass("hidden-toolbar"),p=i>j||o?"show":j>44?"hide":"show","show"===p?(k&&d&&q&&(f.showNavbar(g),a.removeClass("no-navbar-by-scroll"),q=!1),l&&e&&r&&(f.showToolbar(g),a.removeClass("no-toolbar-by-scroll"),r=!1)):(k&&d&&!q&&(f.hideNavbar(g),a.addClass("no-navbar-by-scroll"),q=!0),l&&e&&!r&&(f.hideToolbar(g),a.addClass("no-toolbar-by-scroll"),r=!0)),i=j)}a=h(a);var c=a.find(".page-content");if(0!==c.length){var d=f.params.hideNavbarOnPageScroll||c.hasClass("hide-navbar-on-scroll")||c.hasClass("hide-bars-on-scroll"),e=f.params.hideToolbarOnPageScroll||c.hasClass("hide-toolbar-on-scroll")||c.hasClass("hide-bars-on-scroll");if(d||e){var g=c.parents("."+f.params.viewClass);if(0!==g.length){var i,j,k=g.find(".navbar").length>0,l=g.find(".toolbar").length>0;i=j=c[0].scrollTop;var m,n,o,p,q,r,s=l&&e?g.find(".toolbar")[0].offsetHeight:0;c.on("scroll",b),c[0].f7ScrollToolbarsHandler=b}}}},f.destroyScrollToolbars=function(a){a=h(a);var b=a.find(".page-content");if(0!==b.length){var c=b[0].f7ScrollToolbarsHandler;c&&b.off("scroll",b[0].f7ScrollToolbarsHandler)}},f.showTab=function(a,b){var c=h(a);if(c.hasClass("active"))return!1;if(0===c.length)return!1;var d=c.parent(".tabs");if(0===d.length)return!1;f.allowSwipeout=!0;var e=d.parent().hasClass("tabs-animated-wrap");e&&d.transform("translate3d("+100*-c.index()+"%,0,0)");var g=d.children(".tab.active").removeClass("active");if(c.addClass("active"),c.trigger("show"),!e&&c.find(".navbar").length>0){var i;i=c.hasClass(f.params.viewClass)?c[0]:c.parents("."+f.params.viewClass)[0],f.sizeNavbars(i)}if(b?b=h(b):(b=h("string"==typeof a?'.tab-link[href="'+a+'"]':'.tab-link[href="#'+c.attr("id")+'"]'),(!b||b&&0===b.length)&&h("[data-tab]").each(function(){c.is(h(this).attr("data-tab"))&&(b=h(this))})),0!==b.length){var j;if(g&&g.length>0){var k=g.attr("id");k&&(j=h('.tab-link[href="#'+k+'"]')),(!j||j&&0===j.length)&&h("[data-tab]").each(function(){g.is(h(this).attr("data-tab"))&&(j=h(this))})}return b&&b.length>0&&b.addClass("active"),j&&j.length>0&&j.removeClass("active"),!0}},f.accordionToggle=function(a){a=h(a),0!==a.length&&(a.hasClass("accordion-item-expanded")?f.accordionClose(a):f.accordionOpen(a))},f.accordionOpen=function(a){a=h(a);var b=a.parents(".accordion-list"),c=a.find(".accordion-item-content"),d=b.find(".accordion-item-expanded");d.length>0&&f.accordionClose(d),c.css("height",c[0].scrollHeight+"px").transitionEnd(function(){if(a.hasClass("accordion-item-expanded")){c.transition(0),c.css("height","auto");{c[0].clientLeft}c.transition(""),a.trigger("opened")}else c.css("height",""),a.trigger("closed")}),a.trigger("open"),a.addClass("accordion-item-expanded")},f.accordionClose=function(a){a=h(a);var b=a.find(".accordion-item-content");a.removeClass("accordion-item-expanded"),b.transition(0),b.css("height",b[0].scrollHeight+"px");b[0].clientLeft;b.transition(""),b.css("height","").transitionEnd(function(){if(a.hasClass("accordion-item-expanded")){b.transition(0),b.css("height","auto");{b[0].clientLeft}b.transition(""),a.trigger("opened")}else b.css("height",""),a.trigger("closed")}),a.trigger("close")},f.initFastClicks=function(){function a(a){var b=h(a.target),c=b.parents(f.params.activeStateElements);return c.length>0?c:b}function b(){var a=B.parents(".page-content, .panel");return 0===a.length?!1:("yes"!==a.prop("scrollHandlerSet")&&(a.on("scroll",function(){clearTimeout(C)}),a.prop("scrollHandlerSet","yes")),!0)}function c(){B.addClass("active-state")}function d(){B.removeClass("active-state")}function e(a){var b="button checkbox file image radio submit input textarea".split(" ");return document.activeElement&&a!==document.activeElement&&document.activeElement!==document.body?b.indexOf(a.nodeName.toLowerCase())>=0?!1:!0:!1}function g(a){var b=h(a);return"input"===a.nodeName.toLowerCase()&&"file"===a.type?!1:b.hasClass("no-fastclick")||b.parents(".no-fastclick").length>0?!1:!0}function i(a){if(document.activeElement===a)return!1;var b=a.nodeName.toLowerCase(),c="button checkbox file image radio submit".split(" ");return a.disabled||a.readOnly?!1:"textarea"===b?!0:"select"===b?"android"===f.device.os?!1:!0:"input"===b&&c.indexOf(a.type)<0?!0:void 0}function j(a){if(a=h(a),a.is("label")||a.parents("label").length>0){if("android"===f.device.os){var b=f.device.osVersion.split(".");return 1*b[0]>4||1*b[0]===4&&1*b[1]>=4?!1:!0}return!1}return!0}function k(b){a(b).addClass("active-state"),"which"in b&&3===b.which&&setTimeout(function(){h(".active-state").removeClass("active-state")},0)}function l(){h(".active-state").removeClass("active-state")}function m(){h(".active-state").removeClass("active-state")}function n(d){if(A=!1,d.targetTouches.length>1)return!0;if(D=g(d.target),!D)return w=!1,!0;if("ios"===f.device.os){var i=window.getSelection();if(i.rangeCount&&i.focusNode!==document.body&&(!i.isCollapsed||document.activeElement===i.focusNode))return x=!0,!0;x=!1}"android"===f.device.os&&e(d.target)&&document.activeElement.blur(),w=!0,v=d.target,u=(new Date).getTime(),s=d.targetTouches[0].pageX,t=d.targetTouches[0].pageY,"ios"===f.device.os&&(y=void 0,h(v).parents().each(function(){var a=this;a.scrollHeight>a.offsetHeight&&!y&&(y=a,y.f7ScrollTop=y.scrollTop)})),d.timeStamp-z<200&&d.preventDefault(),f.params.activeState&&(B=a(d),b(d)?C=setTimeout(c,80):c())}function o(a){if(w){var b=!1,c=f.params.fastClicksDistanceThreshold;if(c){var e=a.targetTouches[0].pageX,g=a.targetTouches[0].pageY;(Math.abs(e-s)>c||Math.abs(g-t)>c)&&(b=!0)}else b=!0;b&&(w=!1,v=null,A=!0),f.params.activeState&&(clearTimeout(C),d())}}function p(a){if(clearTimeout(C),!w)return!x&&D&&a.preventDefault(),!0;if(document.activeElement===a.target)return!0;if(x||a.preventDefault(),a.timeStamp-z<200)return!0;if(z=a.timeStamp,w=!1,"ios"===f.device.os&&y&&y.scrollTop!==y.f7ScrollTop)return!1;f.params.activeState&&(c(),setTimeout(d,0)),i(v)&&v.focus(),a.preventDefault();var b=a.changedTouches[0],e=document.createEvent("MouseEvents"),g="click";return"android"===f.device.os&&"select"===v.nodeName.toLowerCase()&&(g="mousedown"),e.initMouseEvent(g,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),e.forwardedTouchEvent=!0,v.dispatchEvent(e),!1}function q(){w=!1,v=null}function r(a){var b=!1;return w?(v=null,w=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(v||(b=!0),document.activeElement===v&&(b=!0),a.forwardedTouchEvent&&(b=!0),a.cancelable||(b=!0),b||(a.stopImmediatePropagation(),a.stopPropagation(),v?(j(v)||A)&&a.preventDefault():a.preventDefault(),v=null),b)}f.params.activeState&&h("html").addClass("watch-active-state");var s,t,u,v,w,x,y,z,A,B,C,D;f.support.touch?(document.addEventListener("click",r,!0),document.addEventListener("touchstart",n),document.addEventListener("touchmove",o),document.addEventListener("touchend",p),document.addEventListener("touchcancel",q)):f.params.activeState&&(document.addEventListener("mousedown",k),document.addEventListener("mousemove",l),document.addEventListener("mouseup",m))},f.initClickEvents=function(){function a(a){function b(a){return"false"===a?!1:"true"===a?!0:void 0}var c=h(this),d=c.attr("href"),e="a"===c[0].nodeName.toLowerCase();if(e)for(var g=0;g<f.params.externalLinks.length;g++){if(c.hasClass(f.params.externalLinks[g]))return;if(c[0].rel===f.params.externalLinks[g])return}if(c.hasClass("smart-select")&&f.smartSelectOpen&&f.smartSelectOpen(c),c.hasClass("open-panel")&&f.openPanel(1===h(".panel").length?h(".panel").hasClass("panel-left")?"left":"right":"right"===c.attr("data-panel")?"right":"left"),c.hasClass("close-panel")&&f.closePanel(),c.hasClass("panel-overlay")&&f.params.panelsCloseByOutside&&f.closePanel(),c.hasClass("open-popover")){var j;j=c.attr("data-popover")?c.attr("data-popover"):".popover",f.popover(j,c)}c.hasClass("close-popover")&&f.closeModal(".popover.modal-in");var k;c.hasClass("open-popup")&&(k=c.attr("data-popup")?c.attr("data-popup"):".popup",f.popup(k)),c.hasClass("close-popup")&&(k=c.attr("data-popup")?c.attr("data-popup"):".popup.modal-in",f.closeModal(k));var l;c.hasClass("open-login-screen")&&(l=c.attr("data-login-screen")?c.attr("data-login-screen"):".login-screen",f.loginScreen(l)),c.hasClass("close-login-screen")&&f.closeModal(".login-screen.modal-in"),c.hasClass("modal-overlay")&&(h(".modal.modal-in").length>0&&f.params.modalCloseByOutside&&f.closeModal(".modal.modal-in"),h(".actions-modal.modal-in").length>0&&f.params.actionsCloseByOutside&&f.closeModal(".actions-modal.modal-in"),h(".popover.modal-in").length>0&&f.closeModal(".popover.modal-in")),c.hasClass("popup-overlay")&&h(".popup.modal-in").length>0&&f.params.popupCloseByOutside&&f.closeModal(".popup.modal-in");var m;if(c.hasClass("tab-link")&&(m=!0,f.showTab(c.attr("data-tab")||c.attr("href"),c)),c.hasClass("swipeout-delete"))if(c.attr("data-confirm")){var n=c.attr("data-confirm"),o=c.attr("data-confirm-title");o?f.confirm(n,o,function(){f.swipeoutDelete(c.parents(".swipeout"))}):f.confirm(n,function(){f.swipeoutDelete(c.parents(".swipeout"))})}else f.swipeoutDelete(c.parents(".swipeout"));if(c.hasClass("toggle-sortable")&&f.sortableToggle(c.data("sortable")),c.hasClass("open-sortable")&&f.sortableOpen(c.data("sortable")),c.hasClass("close-sortable")&&f.sortableClose(c.data("sortable")),c.hasClass("accordion-item-toggle")||c.hasClass("item-link")&&c.parent().hasClass("accordion-item")){var p=c.parents(".accordion-item");0===p.length&&(p=c.parents("li")),f.accordionToggle(p)}if((!f.params.ajaxLinks||c.is(f.params.ajaxLinks))&&e&&f.params.router){e&&a.preventDefault();var q=d&&d.length>0&&"#"!==d&&!m,r=c.attr("data-template");if(q||c.hasClass("back")||r){var s;if(c.attr("data-view")?s=h(c.attr("data-view"))[0].f7View:(s=c.parents("."+f.params.viewClass)[0]&&c.parents("."+f.params.viewClass)[0].f7View,s&&s.params.linksView&&(s=h(s.params.linksView)[0].f7View)),!s)for(var g=0;g<f.views.length;g++)f.views[g].main&&(s=f.views[g]);if(!s)return;var t;if(r)d=void 0;else{if(0===d.indexOf("#")&&"#"!==d){if(!s.params.domCache)return;t=d.split("#")[1],d=void 0}if("#"===d&&!c.hasClass("back"))return}var u;c.attr("data-animatePages")?u=b(c.attr("data-animatePages")):(c.hasClass("with-animation")&&(u=!0),c.hasClass("no-animation")&&(u=!1));var v={animatePages:u,ignoreCache:b(c.attr("data-ignoreCache")),force:b(c.attr("data-force")),reload:b(c.attr("data-reload")),reloadPrevious:b(c.attr("data-reloadPrevious")),pageName:t,url:d};if(f.params.template7Pages){v.contextName=c.attr("data-contextName");var w=c.attr("data-context");w&&(v.context=JSON.parse(w))}r&&r in i.templates&&(v.template=i.templates[r]),c.hasClass("back")?s.router.back(v):s.router.load(v)}}}h(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle",a)},f.initResize=function(){h(window).on("resize",f.resize),h(window).on("orientationchange",f.orientationchange)},f.resize=function(){f.sizeNavbars&&f.sizeNavbars(),e()},f.orientationchange=function(){f.device&&f.device.minimalUi&&(90===window.orientation||-90===window.orientation)&&(document.body.scrollTop=0),e()},f.formsData={},f.formStoreData=function(a,b){f.formsData[a]=b,f.ls["f7form-"+a]=JSON.stringify(b)},f.formDeleteData=function(a){f.formsData[a]&&(f.formsData[a]="",delete f.formsData[a]),f.ls["f7form-"+a]&&(f.ls["f7form-"+a]="",f.ls.removeItem("f7form-"+a))},f.formGetData=function(a){return f.ls["f7form-"+a]?JSON.parse(f.ls["f7form-"+a]):f.formsData[a]?f.formsData[a]:void 0},f.formToJSON=function(a){if(a=h(a),1!==a.length)return!1;var b={},c=["submit","image","button","file"],d=[];return a.find("input, select, textarea").each(function(){var e=h(this),f=e.attr("name"),g=e.attr("type"),i=this.nodeName.toLowerCase();if(!(c.indexOf(g)>=0||d.indexOf(f)>=0||!f))if("select"===i&&e.attr("multiple"))d.push(f),b[f]=[],a.find('select[name="'+f+'"] option').each(function(){this.selected&&b[f].push(this.value)});else switch(g){case"checkbox":d.push(f),b[f]=[],a.find('input[name="'+f+'"]').each(function(){this.checked&&b[f].push(this.value)});break;case"radio":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked&&(b[f]=this.value)});break;default:b[f]=e.val()}}),b},f.formFromJSON=function(a,b){if(a=h(a),1!==a.length)return!1;var c=["submit","image","button","file"],d=[];a.find("input, select, textarea").each(function(){var e=h(this),f=e.attr("name"),g=e.attr("type"),i=this.nodeName.toLowerCase();if(b[f]&&!(c.indexOf(g)>=0||d.indexOf(f)>=0||!f))if("select"===i&&e.attr("multiple"))d.push(f),a.find('select[name="'+f+'"] option').each(function(){this.selected=b[f].indexOf(this.value)>=0?!0:!1});else switch(g){case"checkbox":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked=b[f].indexOf(this.value)>=0?!0:!1});break;case"radio":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked=b[f]===this.value?!0:!1});break;default:e.val(b[f])}})},f.initFormsStorage=function(a){function b(){var a=h(this),b=a[0].id;if(b){var c=f.formToJSON(a);c&&(f.formStoreData(b,c),a.trigger("store",{data:c}))}}function c(){d.off("change submit",b),a.off("pageBeforeRemove",c)}if(a=h(a),0!==a.length){var d=a.find("form.store-data");0!==d.length&&(d.each(function(){var a=this.getAttribute("id");if(a){var b=f.formGetData(a);b&&f.formFromJSON(this,b)}}),d.on("change submit",b),a.on("pageBeforeRemove",c))}},h(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(a){var b=h(this);if("change"!==a.type||b.hasClass("ajax-submit-onchange")){"submit"===a.type&&a.preventDefault();var c=b.attr("method")||"GET",d=b.attr("enctype"),e=b.attr("action");if(e){var g;g="POST"===c?new FormData(b[0]):h.serializeObject(f.formToJSON(b[0]));var i=h.ajax({method:c,url:e,contentType:d,data:g,success:function(a){b.trigger("submitted",{data:a,xhr:i})}})}}}),f.pushStateQueue=[],f.pushStateClearQueue=function(){if(0!==f.pushStateQueue.length){var a,b=f.pushStateQueue.pop();f.params.pushStateNoAnimation===!0&&(a=!1),"back"===b.action&&f.router.back(b.view,{animatePages:a}),"loadPage"===b.action&&f.router.load(b.view,{url:b.stateUrl,animatePages:a,pushState:!1}),"loadContent"===b.action&&f.router.load(b.view,{content:b.stateContent,animatePages:a,pushState:!1}),"loadPageName"===b.action&&f.router.load(b.view,{pageName:b.statePageName,animatePages:a,pushState:!1})}},f.initPushState=function(){function a(a){if(!b){for(var c,d=0;d<f.views.length;d++)f.views[d].main&&(c=f.views[d]);if(c){var e=a.state;if(e||(e={viewIndex:f.views.indexOf(c),url:c.history[0]}),!(e.viewIndex<0)){var g,h=f.views[e.viewIndex],i=e&&e.url||void 0,j=e&&e.content||void 0,k=e&&e.pageName||void 0;f.params.pushStateNoAnimation===!0&&(g=!1),i!==h.url&&(h.history.indexOf(i)>=0?h.allowPageChange?f.router.back(h,{url:void 0,animatePages:g,pushState:!1,preloadOnly:!1}):f.pushStateQueue.push({action:"back",view:h}):j?h.allowPageChange?f.router.load(h,{content:j,animatePages:g,pushState:!1}):f.pushStateQueue.unshift({action:"loadContent",stateContent:j,view:h}):k?h.allowPageChange?f.router.load(h,{pageName:k,animatePages:g,pushState:!1}):f.pushStateQueue.unshift({action:"loadPageName",statePageName:k,view:h}):h.allowPageChange?f.router.load(h,{url:i,animatePages:g,pushState:!1}):f.pushStateQueue.unshift({action:"loadPage",stateUrl:i,view:h}))}}}}var b=!0;h(window).on("load",function(){setTimeout(function(){b=!1},0)}),h(window).on("popstate",a)};var n=function(a,b){var c={initialSlide:0,spaceBetween:0,speed:300,loop:!1,slidesPerView:1,onlyExternal:!1,direction:"horizontal",paginationHide:!0,slideClass:"slider-slide",slideActiveClass:"slider-slide-active",slideNextClass:"slider-slide-next",slidePrevClass:"slider-slide-prev",wrapperClass:"slider-wrapper",bulletClass:"slider-pagination-bullet",bulletActiveClass:"slider-pagination-active",preventClicks:!0,preventClicksPropagation:!0,autoplay:!1,autoplayDisableOnInteraction:!0};b=b||{};for(var d in c)"undefined"==typeof b[d]&&(b[d]=c[d]);var e=this;if(e.params=b,e.container=h(a),0!==e.container.length){e.container[0].f7Slider=e,e.container.addClass("vertical"===e.params.direction?"slider-container-vertical":"slider-container-horizontal"),e.wrapper=e.container.children("."+e.params.wrapperClass),e.params.pagination&&(e.paginationContainer=h(e.params.pagination)),e.activeSlideIndex=e.previousSlideIndex=e.params.initialSlide||0;var g="horizontal"===e.params.direction,i=g&&f.rtl?-1:1;e.updateSlides=function(){if(e.slides=e.wrapper.children("."+e.params.slideClass),0!==e.params.spaceBetween){var a=f.rtl?"marginLeft":"marginRight";g?e.slides.css(a,e.params.spaceBetween+"px"):e.slides.css({marginBottom:e.params.spaceBetween+"px"})}if(e.params.slidesPerView>1){var c="(100% - "+(e.params.slidesPerView-1)*b.spaceBetween+"px)/"+e.params.slidesPerView;g?(e.slides.css("width","-webkit-calc("+c+")"),e.slides.css("width","-moz-calc("+c+")"),e.slides.css("width","calc("+c+")")):(e.slides.css("height","-webkit-calc("+c+")"),e.slides.css("height","-moz-calc("+c+")"),e.slides.css("height","calc("+c+")"))}e.isFirst=0===e.activeSlideIndex,e.isLast=e.activeSlideIndex===e.slides.length-e.params.slidesPerView},e.updatePagination=function(){if(e.paginationContainer&&e.paginationContainer.length>0){var a="",b=e.slides.length-e.params.slidesPerView+1;e.params.loop&&(b=e.slides.length-2*e.loopedSlides);for(var c=0;b>c;c++)a+='<span class="'+e.params.bulletClass+'"></span>';e.paginationContainer.html(a),e.bullets=e.paginationContainer.find("."+e.params.bulletClass)}},e.updateSize=function(){e.width=e.container[0].offsetWidth,e.height=e.container[0].offsetHeight,e.size=g?e.width:e.height},e.attachEvents=function(a){var b=a?"off":"on";e.container[b](f.touchEvents.start,e.onTouchStart),e.container[b](f.touchEvents.move,e.onTouchMove),e.container[b](f.touchEvents.end,e.onTouchEnd),h(window)[b]("resize",e.onResize),e.params.nextButton&&h(e.params.nextButton)[b]("click",e.onClickNext),e.params.prevButton&&h(e.params.prevButton)[b]("click",e.onClickPrev),e.params.indexButton&&h(e.params.indexButton)[b]("click",e.onClickIndex),(e.params.preventClicks||e.params.preventClicksPropagation)&&e.container[b]("click",e.onClick,!0)},e.detachEvents=function(){e.attachEvents(!0)},e.onResize=function(){e.updateSize(),e.slideTo(e.activeSlideIndex,0,!1)};var j,k,l,m,n,o,p={},q={},r=Date.now();e.animating=!1,e.allowClick=!0,e.onClick=function(a){e.params.preventClicks&&!e.allowClick&&(a.preventDefault(),e.params.preventClicksPropagation&&(a.stopPropagation(),a.stopImmediatePropagation()))},e.onTouchStart=function(a){e.params.onlyExternal||(j=!0,k=!1,m=void 0,p.x=q.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,p.y=q.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,l=Date.now(),e.allowClick=!0,e.updateSize(),e.params.onTouchStart&&e.params.onTouchStart(e,a),"mousedown"===a.type&&a.preventDefault())},e.onTouchMove=function(a){if(e.params.onTouchMove&&e.params.onTouchMove(e,a),e.allowClick=!1,!(a.targetTouches&&a.targetTouches.length>1)&&(q.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,q.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof m&&(m=!!(m||Math.abs(q.y-p.y)>Math.abs(q.x-p.x))),(g&&m||!g&&!m)&&e.params.onOppositeTouchMove&&e.params.onOppositeTouchMove(e,a),j)){if(g&&m||!g&&!m)return void(j=!1);e.params.onSliderMove&&e.params.onSliderMove(e,a),a.preventDefault(),a.stopPropagation(),k||(b.loop&&e.fixLoop(),n=h.getTranslate(e.wrapper[0],g?"x":"y")*i,e.wrapper.transition(0),e.animating&&e.onTransitionEnd(),b.autoplay&&t&&(e.params.autoplayDisableOnInteraction?e.stopAutoplay():s&&clearTimeout(s))),k=!0;var c=g?(q.x-p.x)*i:q.y-p.y;c>0&&0===e.activeSlideIndex?c=Math.pow(c,.85):0>c&&e.activeSlideIndex===e.slides.length-e.params.slidesPerView?c=-Math.pow(-c,.85):0>c&&0===e.activeSlideIndex&&e.slides.length<e.params.slidesPerView&&(c=-Math.pow(-c,.85));var d=g?(c+n)*i:0,f=g?0:c+n;e.wrapper.transform("translate3d("+d+"px, "+f+"px,0)")}},e.onTouchEnd=function(a){e.params.onTouchEnd&&e.params.onTouchEnd(e,a);var b=Date.now(),c=b-l;if(e.allowClick&&(300>c&&b-r>300&&(o&&clearTimeout(o),o=setTimeout(function(){e&&(e.params.paginationHide&&e.paginationContainer&&e.paginationContainer.toggleClass("slider-pagination-hidden"),e.params.onClick&&e.params.onClick(e,a))},300)),300>c&&300>b-r&&(o&&clearTimeout(o),e.params.onDoubleTap&&e.params.onDoubleTap(e,a)),e.params.onTap&&e.params.onTap(e,a)),r=Date.now(),!j||!k)return void(j=k=!1);j=k=!1;var d=g?(q.x-p.x)*i:q.y-p.y;Math.abs(d)<5&&300>c&&e.allowClick===!1&&(e.allowClick=!0),setTimeout(function(){e&&(e.allowClick=!0)},100);var f=e.params.autoplay&&t&&!e.params.autoplayDisableOnInteraction;if(0===d)return void(f&&e.startAutoplay());var h=1,m=e.size/e.params.slidesPerView;e.params.slidesPerView>1&&(h=Math.abs((Math.abs(d)+m/2)/m)),f&&e.wrapper.transitionEnd(function(){e.startAutoplay()}),c>300?-m/2>=d?e.slideTo(e.activeSlideIndex+Math.floor(h)):d>m/2?e.slideTo(e.activeSlideIndex-Math.floor(h)):e.slideReset():Math.abs(d)<10?e.slideReset():e.slideTo(0>d?e.activeSlideIndex+Math.round(h):e.activeSlideIndex-Math.round(h))},e.slideTo=function(a,b,c){"undefined"==typeof a&&(a=0),a>e.slides.length-e.params.slidesPerView&&(a=e.slides.length-e.params.slidesPerView),0>a&&(a=0);var d=-(e.size+e.params.spaceBetween)*a/e.params.slidesPerView;"undefined"==typeof b&&(b=e.params.speed),e.previousSlideIndex=e.activeSlideIndex,e.activeSlideIndex=Math.round(a),e.isFirst=0===e.activeSlideIndex,e.isLast=e.activeSlideIndex===e.slides.length-e.params.slidesPerView,e.onTransitionStart();var f=g?d*i:0,h=g?0:d;0===b?(e.wrapper.transition(0).transform("translate3d("+f+"px,"+h+"px,0)"),c!==!1&&e.onTransitionEnd()):(e.animating=!0,e.wrapper.transition(b).transform("translate3d("+f+"px,"+h+"px,0)").transitionEnd(function(){c!==!1&&e.onTransitionEnd()}))},e.updateClasses=function(){e.slides.removeClass(e.params.slideActiveClass+" "+e.params.slideNextClass+" "+e.params.slidePrevClass);var a=e.slides.eq(e.activeSlideIndex);if(a.addClass(e.params.slideActiveClass),a.next().addClass(e.params.slideNextClass),a.prev().addClass(e.params.slidePrevClass),e.bullets&&e.bullets.length>0){e.bullets.removeClass(e.params.bulletActiveClass);var b=e.activeSlideIndex;e.params.loop&&(b-=e.loopedSlides,0>b&&(b=e.bullets.length+b),b>=e.bullets.length&&(b-=e.bullets.length)),e.bullets.eq(b).addClass(e.params.bulletActiveClass)}},e.onTransitionStart=function(){e.updateClasses(),e.activeSlideIndex!==e.previousSlideIndex&&e.params.onSlideChangeStart&&e.params.onSlideChangeStart(e),e.params.onTransitionStart&&e.params.onTransitionStart(e)},e.onTransitionEnd=function(){e.animating=!1,e.wrapper.transition(0),e.activeSlideIndex!==e.previousSlideIndex&&e.params.onSlideChangeEnd&&e.params.onSlideChangeEnd(e),e.params.onTransitionEnd&&e.params.onTransitionEnd(e)},e.slideNext=function(){if(e.params.loop){if(e.animating)return;e.fixLoop(),setTimeout(function(){e.slideTo(e.activeSlideIndex+1)},0)}else e.slideTo(e.activeSlideIndex+1)},e.slidePrev=function(){if(e.params.loop){if(e.animating)return;e.fixLoop(),setTimeout(function(){e.slideTo(e.activeSlideIndex-1)},0)}else e.slideTo(e.activeSlideIndex-1)},e.slideReset=function(){e.slideTo(e.activeSlideIndex)},e.onClickNext=function(a){a.preventDefault(),e.slideNext()},e.onClickPrev=function(a){a.preventDefault(),e.slidePrev()},e.onClickIndex=function(a){a.preventDefault(),e.slideTo(h(this).index())};var s,t;return e.startAutoplay=function(){e.params.autoplay&&(t=!0,s&&clearTimeout(s),s=setTimeout(function(){e.wrapper.transitionEnd(function(){e.startAutoplay()});var a=e.activeSlideIndex+1;a>e.slides.length-e.params.slidesPerView&&(a=0),e.slideTo(a)},e.params.autoplay))},e.stopAutoplay=function(){t=!1,s&&clearTimeout(s)},e.resetAutoplay=function(){e.stopAutoplay(),e.startAutoplay()},e.createLoop=function(){e.wrapper.children("."+e.params.slideClass+".slider-slide-duplicate").remove();var a=e.wrapper.children("."+e.params.slideClass);if(e.loopedSlides=parseInt(e.params.loopedSlides||e.params.slidesPerView,10),e.loopedSlides>a.length)return void(e.loopedSlides=a.length);var b,c=[],d=[];for(a.each(function(b,f){var g=h(this);b<e.loopedSlides&&d.push(f),b<a.length&&b>=a.length-e.loopedSlides&&c.push(f),g.attr("data-slider-slide-index",b)}),b=0;b<d.length;b++)e.wrapper.append(h(d[b].cloneNode(!0)).addClass("slider-slide-duplicate"));for(b=c.length-1;b>=0;b--)e.wrapper.prepend(h(c[b].cloneNode(!0)).addClass("slider-slide-duplicate"))},e.fixLoop=function(){var a;e.activeSlideIndex<e.loopedSlides?(a=e.slides.length-3*e.loopedSlides+e.activeSlideIndex,a+=e.loopedSlides,e.slideTo(a,0,!1)):e.activeSlideIndex>e.slides.length-2*e.params.slidesPerView&&(a=-e.slides.length+e.activeSlideIndex+e.loopedSlides,a+=e.loopedSlides,e.slideTo(a,0,!1))},e.init=function(){e.params.loop&&e.createLoop(),e.updateSlides(),e.updatePagination(),e.updateSize(),e.params.loop?e.slideTo(e.params.initialSlide+e.loopedSlides,0,!1):e.params.initialSlide>0?e.slideTo(e.params.initialSlide,0,!1):e.updateClasses(),e.attachEvents(),e.params.autoplay&&e.startAutoplay()},e.update=function(){e.params.loop&&e.createLoop(),e.updateSlides(),e.updatePagination(),e.updateSize(),e.updateClasses()},e.destroy=function(){e.detachEvents(),e.params.onDestroy&&e.params.onDestroy(),e=void 0},e.init(),e}};f.slider=function(a,b){return new n(a,b)},f.initSlider=function(a){function b(a){function b(){a.destroy(),c.off("pageBeforeRemove",b)}c.on("pageBeforeRemove",b)}var c=h(a),d=c.find(".slider-init");if(0!==d.length)for(var e=0;e<d.length;e++){var g,i=d.eq(e);g=i.data("slider")?JSON.parse(i.data("slider")):{initialSlide:parseInt(i.data("initialSlide"),10)||void 0,spaceBetween:parseInt(i.data("spaceBetween"),10)||void 0,speed:parseInt(i.data("speed"),10)||void 0,slidesPerView:parseInt(i.data("slidesPerView"),10)||void 0,direction:i.data("direction"),pagination:i.data("pagination"),paginationHide:i.data("paginationHide")&&("true"===i.data("paginationHide")?!0:!1),loop:i.data("loop")&&("true"===i.data("loop")?!0:!1),onlyExternal:i.data("onlyExternal")&&("true"===i.data("onlyExternal")?!0:!1),slideClass:i.data("slideClass"),slideActiveClass:i.data("slideActiveClass"),slideNextClass:i.data("slideNextClass"),slidePrevClass:i.data("slidePrevClass"),wrapperClass:i.data("wrapperClass"),bulletClass:i.data("bulletClass"),bulletActiveClass:i.data("bulletActiveClass"),nextButton:i.data("nextButton"),prevButton:i.data("prevButton"),indexButton:i.data("indexButton"),autoplay:i.data("autoplay")};
var j=f.slider(i[0],g);b(j)}},f.reinitSlider=function(a){var b=h(a),c=b.find(".slider-init");if(0!==c.length)for(var d=0;d<c.length;d++){var e=c[0].f7Slider;e&&e.onResize()}};var o=function(a){function b(){var a;for(c=0;c<f.views.length;c++)f.views[c].main&&(a=f.views[c]);return a}var c,d=this,e={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1};a=a||{};for(var g in e)"undefined"==typeof a[g]&&(a[g]=e[g]);d.params=a;var i="dark"===d.params.theme?"color-white":"",j=d.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("page"===d.params.type&&"back")+' close-popup photo-browser-close-link" data-popup=".photo-browser-popup"><i class="icon icon-back '+i+'"></i><span>'+d.params.backLinkText+'</span></a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+d.params.ofText+'</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',k=f.rtl?"next":"prev",l=f.rtl?"prev":"next",m=d.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-'+k+" "+i+'"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-'+l+" "+i+'"></i></a></div></div>',n=d.params.template||'<div class="photo-browser photo-browser-'+d.params.theme+'"><div class="view navbar-fixed toolbar-fixed">{{navbar}}<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">{{toolbar}}{{captions}}<div class="photo-browser-slider-container slider-container"><div class="photo-browser-slider-wrapper slider-wrapper">{{photos}}</div></div></div></div></div>',o=d.params.lazyLoading?d.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy slider-slide"><div class="preloader'+("dark"===d.params.theme?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}"></span></div>':d.params.photoTemplate||'<div class="photo-browser-slide slider-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',p=d.params.captionsTheme||d.params.theme,q=d.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+p+'">{{captions}}</div>',r=d.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',s=d.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide slider-slide">{{html}}</div>',t="",u="";for(c=0;c<d.params.photos.length;c++){var v=d.params.photos[c],w="";"string"==typeof v||v instanceof String?w=v.indexOf("<")>=0||v.indexOf(">")>=0?s.replace(/{{html}}/g,v):o.replace(/{{url}}/g,v):"object"==typeof v&&(v.hasOwnProperty("html")&&v.html.length>0?w=s.replace(/{{html}}/g,v.html):v.hasOwnProperty("url")&&v.url.length>0&&(w=o.replace(/{{url}}/g,v.url)),v.hasOwnProperty("caption")&&v.caption.length>0?u+=r.replace(/{{caption}}/g,v.caption).replace(/{{captionIndex}}/g,c):w=w.replace(/{{caption}}/g,"")),t+=w}var x=n.replace("{{navbar}}",d.params.navbar?j:"").replace("{{noNavbar}}",d.params.navbar?"":"no-navbar").replace("{{photos}}",t).replace("{{captions}}",q.replace(/{{captions}}/g,u)).replace("{{toolbar}}",d.params.toolbar?m:"");d.activeSlideIndex=d.params.initialSlide,d.openIndex=d.activeSlideIndex,d.opened=!1,d.open=function(a){return"undefined"==typeof a&&(a=d.activeSlideIndex),a=parseInt(a,10),d.opened&&d.slider?void d.slider.slideTo(a):(d.opened=!0,d.openIndex=a,d.initialLazyLoaded=!1,"standalone"===d.params.type&&h("body").append(x),"popup"===d.params.type&&(d.popup=f.popup('<div class="popup photo-browser-popup">'+x+"</div>"),h(d.popup).on("closed",d.onPopupClose)),"page"===d.params.type?(h(document).on("pageBeforeInit",d.onPageBeforeInit),h(document).on("pageBeforeRemove",d.onPageBeforeRemove),d.params.view||(d.params.view=b()),void d.params.view.loadContent(x)):(d.layout(d.openIndex),void(d.params.onOpen&&d.params.onOpen(d))))},d.close=function(){d.opened=!1,d.sliderContainer&&0!==d.sliderContainer.length&&(d.params.onClose&&d.params.onClose(d),d.attachEvents(!0),"standalone"===d.params.type&&d.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){d.container.remove()}),d.slider.destroy(),d.slider=d.sliderContainer=d.sliderWrapper=d.slides=y=z=A=void 0)},d.onPopupClose=function(){d.close(),h(d.popup).off("pageBeforeInit",d.onPopupClose)},d.onPageBeforeInit=function(a){"photo-browser-slides"===a.detail.page.name&&d.layout(d.openIndex),h(document).off("pageBeforeInit",d.onPageBeforeInit)},d.onPageBeforeRemove=function(a){"photo-browser-slides"===a.detail.page.name&&d.close(),h(document).off("pageBeforeRemove",d.onPageBeforeRemove)},d.loadImageInSlide=function(a,b){if(a&&"undefined"!=typeof b&&0!==a.slides.length){var c=a.slides.eq(b);if(c.hasClass("photo-browser-slide-lazy")){var e=c.find("img");if(0!==e.length){var f=new Image,g=e.attr("data-src");f.onload=function(){e.attr("src",g),e.removeAttr("data-src"),c.removeClass("photo-browser-slide-lazy").find(".preloader").remove(),d.params.onImageLoaded&&d.params.onImageLoaded(d,c[0],e[0])},f.src=g,d.params.onImageLoad&&d.params.onImageLoad(d,c[0],e[0])}}}},d.lazyLoading=function(a,b){if(d.loadImageInSlide(a,b),d.params.lazyLoadingInPrevNext){var c=a.wrapper.find(".slider-slide-next.photo-browser-slide-lazy");c.length>0&&d.loadImageInSlide(a,c.index());var e=a.wrapper.find(".slider-slide-prev.photo-browser-slide-lazy");e.length>0&&d.loadImageInSlide(a,e.index())}},d.onSliderTransitionStart=function(a){d.activeSlideIndex=a.activeSlideIndex;var b=a.activeSlideIndex+1,c=a.slides.length;if(d.params.loop&&(c-=2,b-=a.loopedSlides,1>b&&(b=c+b),b>c&&(b-=c)),d.container.find(".photo-browser-current").text(b),d.container.find(".photo-browser-total").text(c),h(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),a.isFirst&&!d.params.loop&&h(".photo-browser-prev").addClass("photo-browser-link-inactive"),a.isLast&&!d.params.loop&&h(".photo-browser-next").addClass("photo-browser-link-inactive"),d.captions.length>0){d.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var e=d.params.loop?a.slides.eq(a.activeSlideIndex).attr("data-slider-slide-index"):d.activeSlideIndex;d.captionsContainer.find('[data-caption-index="'+e+'"]').addClass("photo-browser-caption-active")}d.params.lazyLoading&&(d.params.lazyLoadingOnTransitionStart||!d.params.lazyLoadingOnTransitionStart&&!d.initialLazyLoaded)&&(d.initialLazyLoaded=!0,d.lazyLoading(a,d.activeSlideIndex));var f=a.slides.eq(a.previousSlideIndex).find("video");f.length>0&&"pause"in f[0]&&f[0].pause(),d.params.onSlideChangeStart&&d.params.onSlideChangeStart(a)},d.onSliderTransitionEnd=function(a){d.params.lazyLoading&&!d.params.lazyLoadingOnTransitionStart&&d.lazyLoading(a,d.activeSlideIndex),d.params.zoom&&y&&a.previousSlideIndex!==a.activeSlideIndex&&(z.transform("translate3d(0,0,0) scale(1)"),A.transform("translate3d(0,0,0)"),y=z=A=void 0,B=C=1),d.params.onSlideChangeEnd&&d.params.onSlideChangeEnd(a)},d.layout=function(a){d.container="page"===d.params.type?h(".photo-browser-slider-container").parents(".view"):h(".photo-browser"),"standalone"===d.params.type&&(d.container.addClass("photo-browser-in"),f.sizeNavbars(d.container)),d.sliderContainer=d.container.find(".photo-browser-slider-container"),d.sliderWrapper=d.container.find(".photo-browser-slider-wrapper"),d.slides=d.container.find(".photo-browser-slide"),d.captionsContainer=d.container.find(".photo-browser-captions"),d.captions=d.container.find(".photo-browser-caption");var b={nextButton:d.params.nextButton||".photo-browser-next",prevButton:d.params.prevButton||".photo-browser-prev",indexButton:d.params.indexButton,initialSlide:a,spaceBetween:d.params.spaceBetween,speed:d.params.speed,loop:d.params.loop,onTap:function(a,b){d.params.onTap&&d.params.onTap(a,b)},onClick:function(a,b){d.params.exposition&&d.toggleExposition(),d.params.onClick&&d.params.onClick(a,b)},onDoubleTap:function(a,b){d.toggleZoom(h(b.target).parents(".photo-browser-slide")),d.params.onDoubleTap&&d.params.onDoubleTap(a,b)},onTransitionStart:function(a){d.onSliderTransitionStart(a)},onTransitionEnd:function(a){d.onSliderTransitionEnd(a)}};d.params.swipeToClose&&"page"!==d.params.type&&(b.onTouchStart=d.swipeCloseTouchStart,b.onOppositeTouchMove=d.swipeCloseTouchMove,b.onTouchEnd=d.swipeCloseTouchEnd),d.slider=f.slider(d.sliderContainer,b),0===a&&d.onSliderTransitionStart(d.slider),d.attachEvents()},d.attachEvents=function(a){var b=a?"off":"on";if(d.params.zoom){var c=d.params.loop?d.slider.slides:d.slides;c[b]("gesturestart",d.onSlideGestureStart),c[b]("gesturechange",d.onSlideGestureChange),c[b]("gestureend",d.onSlideGestureEnd),c[b](f.touchEvents.start,d.onSlideTouchStart),c[b](f.touchEvents.move,d.onSlideTouchMove),c[b](f.touchEvents.end,d.onSlideTouchEnd)}d.container.find(".photo-browser-close-link")[b]("click",d.close)};d.exposed=!1,d.toggleExposition=function(){d.container&&d.container.toggleClass("photo-browser-exposed"),d.params.expositionHideCaptions&&d.captionsContainer.toggleClass("photo-browser-captions-exposed"),d.exposed=!d.exposed},d.enableExposition=function(){d.container&&d.container.addClass("photo-browser-exposed"),d.params.expositionHideCaptions&&d.captionsContainer.addClass("photo-browser-captions-exposed"),d.exposed=!0},d.disableExposition=function(){d.container&&d.container.removeClass("photo-browser-exposed"),d.params.expositionHideCaptions&&d.captionsContainer.removeClass("photo-browser-captions-exposed"),d.exposed=!1};var y,z,A,B=1,C=1,D=!1;d.onSlideGestureStart=function(){return y||(y=h(this),z=y.find("img, svg, canvas"),A=z.parent(".photo-browser-zoom-container"),0!==A.length)?(z.transition(0),void(D=!0)):void(z=void 0)},d.onSlideGestureChange=function(a){z&&0!==z.length&&(B=a.scale*C,B>d.params.maxZoom&&(B=d.params.maxZoom-1+Math.pow(B-d.params.maxZoom+1,.5)),B<d.params.minZoom&&(B=d.params.minZoom+1-Math.pow(d.params.minZoom-B+1,.5)),z.transform("translate3d(0,0,0) scale("+B+")"))},d.onSlideGestureEnd=function(){z&&0!==z.length&&(B=Math.max(Math.min(B,d.params.maxZoom),d.params.minZoom),z.transition(d.params.speed).transform("translate3d(0,0,0) scale("+B+")"),C=B,D=!1,1===B&&(y=void 0))},d.toggleZoom=function(){y||(y=d.slider.slides.eq(d.slider.activeSlideIndex),z=y.find("img, svg, canvas"),A=z.parent(".photo-browser-zoom-container")),z&&0!==z.length&&(A.transition(300).transform("translate3d(0,0,0)"),B&&1!==B?(B=C=1,z.transition(300).transform("translate3d(0,0,0) scale(1)"),y=void 0):(B=C=d.params.maxZoom,z.transition(300).transform("translate3d(0,0,0) scale("+B+")")))};var E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V={},W={};d.onSlideTouchStart=function(a){z&&0!==z.length&&(E||("android"===f.device.os&&a.preventDefault(),E=!0,V.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,V.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY))},d.onSlideTouchMove=function(a){if(z&&0!==z.length&&(d.slider.allowClick=!1,E&&y)){F||(M=z[0].offsetWidth,N=z[0].offsetHeight,O=h.getTranslate(A[0],"x")||0,P=h.getTranslate(A[0],"y")||0,A.transition(0));var b=M*B,c=N*B;if(!(b<d.slider.width&&c<d.slider.height)){if(I=Math.min(d.slider.width/2-b/2,0),K=-I,J=Math.min(d.slider.height/2-c/2,0),L=-J,W.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,W.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,!F&&!D&&(Math.floor(I)===Math.floor(O)&&W.x<V.x||Math.floor(K)===Math.floor(O)&&W.x>V.x))return void(E=!1);a.stopPropagation(),F=!0,G=W.x-V.x+O,H=W.y-V.y+P,I>G&&(G=I+1-Math.pow(I-G+1,.8)),G>K&&(G=K-1+Math.pow(G-K+1,.8)),J>H&&(H=J+1-Math.pow(J-H+1,.8)),H>L&&(H=L-1+Math.pow(H-L+1,.8)),Q||(Q=W.x),T||(T=W.y),R||(R=Date.now()),S=(W.x-Q)/(Date.now()-R)/2,U=(W.y-T)/(Date.now()-R)/2,Math.abs(W.x-Q)<2&&(S=0),Math.abs(W.y-T)<2&&(U=0),Q=W.x,T=W.y,R=Date.now(),A.transform("translate3d("+G+"px, "+H+"px,0)")}}},d.onSlideTouchEnd=function(){if(z&&0!==z.length){if(!E||!F)return E=!1,void(F=!1);E=!1,F=!1;var a=300,b=300,c=S*a,e=G+c,f=U*b,g=H+f;0!==S&&(a=Math.abs((e-G)/S)),0!==U&&(b=Math.abs((g-H)/U));var h=Math.max(a,b);G=e,H=g;var i=M*B,j=N*B;I=Math.min(d.slider.width/2-i/2,0),K=-I,J=Math.min(d.slider.height/2-j/2,0),L=-J,G=Math.max(Math.min(G,K),I),H=Math.max(Math.min(H,L),J),A.transition(h).transform("translate3d("+G+"px, "+H+"px,0)")}};var X,Y,Z,$,_,ab=!1,bb=!0,cb=!1;return d.swipeCloseTouchStart=function(){bb&&(ab=!0)},d.swipeCloseTouchMove=function(a,b){if(ab){cb||(cb=!0,Y="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,$=d.slider.slides.eq(d.slider.activeSlideIndex),_=(new Date).getTime()),b.preventDefault(),Z="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,X=Y-Z;var c=1-Math.abs(X)/300;$.transform("translate3d(0,"+-X+"px,0)"),d.slider.container.css("opacity",c).transition(0)}},d.swipeCloseTouchEnd=function(){if(ab=!1,!cb)return void(cb=!1);cb=!1,bb=!1;var a=Math.abs(X),b=(new Date).getTime()-_;return 300>b&&a>20||b>=300&&a>100?void setTimeout(function(){"standalone"===d.params.type&&d.close(),"popup"===d.params.type&&f.closeModal(d.popup),d.params.onSwipeToClose&&d.params.onSwipeToClose(d),bb=!0},0):(0!==a?$.addClass("transitioning").transitionEnd(function(){bb=!0,$.removeClass("transitioning")}):bb=!0,d.slider.container.css("opacity","").transition(""),void $.transform(""))},d};f.photoBrowser=function(a){return new o(a)};var p;f.addNotification=function(a){if(a){"undefined"==typeof a.media&&(a.media=f.params.notificationMedia),"undefined"==typeof a.title&&(a.title=f.params.notificationTitle),"undefined"==typeof a.subtitle&&(a.subtitle=f.params.notificationSubtitle),"undefined"==typeof a.closeIcon&&(a.closeIcon=f.params.notificationCloseIcon),"undefined"==typeof a.hold&&(a.hold=f.params.notificationHold),"undefined"==typeof a.closeOnClick&&(a.closeOnClick=f.params.notificationCloseOnClick),p||(p=document.createElement("div"));var b=h(".notifications");0===b.length&&(h("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),b=h(".notifications"));var c,d=b.children("ul");c=a.custom?"<li>"+a.custom+"</li>":'<li class="notification-item notification-hidden"><div class="item-content">'+(a.media?'<div class="item-media">'+a.media+"</div>":"")+'<div class="item-inner"><div class="item-title-row">'+(a.title?'<div class="item-title">'+a.title+"</div>":"")+(a.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(a.subtitle?'<div class="item-subtitle">'+a.subtitle+"</div>":"")+(a.message?'<div class="item-text">'+a.message+"</div>":"")+"</div></div></li>",p.innerHTML=c;var e=h(p).children();e.on("click",function(b){var c=!1;h(b.target).is(".close-notification")||h(b.target).parents(".close-notification").length>0?c=!0:(a.onClick&&a.onClick(b,e[0]),a.closeOnClick&&(c=!0)),c&&f.closeNotification(e[0])}),a.onClose&&e.data("f7NotificationOnClose",function(){a.onClose(e[0])}),a.additionalClass&&e.addClass(a.additionalClass),a.hold&&setTimeout(function(){e.length>0&&f.closeNotification(e[0])},a.hold),d.prepend(e[0]),b.show();var g=e.height();e.css("marginTop",-g+"px"),e.transition(0);{e[0].clientLeft}return e.transition(""),e.css("marginTop","0px"),b.transform("translate3d(0, 0,0)"),e.removeClass("notification-hidden"),e[0]}},f.closeNotification=function(a){if(a=h(a),0!==a.length&&!a.hasClass("notification-item-removing")){var b=h(".notifications"),c=a.height();a.css("height",c+"px").transition(0);{a[0].clientLeft}a.css("height","0px").transition("").addClass("notification-item-removing"),a.data("f7NotificationOnClose")&&a.data("f7NotificationOnClose")(),0===b.find(".notification-item:not(.notification-item-removing)").length&&b.transform(""),a.addClass("notification-hidden").transitionEnd(function(){a.remove(),0===b.find(".notification-item").length&&b.hide()})}},f.initTemplate7Templates=function(){window.Template7&&(Template7.templates=Template7.templates||f.params.templates||{},Template7.data=Template7.data||f.params.template7Data||{},Template7.templatesCache={},f.templates=Template7.templates,f.template7Data=Template7.data,f.templatesCache=Template7.templatesCache,f.params.precompileTemplates&&h('script[type="text/template7"]').each(function(){var a=h(this).attr("id");a&&(Template7.templates[a]=Template7.compile(h(this).html()))}))};var q=[];return f.initPlugins=function(){for(var a in f.plugins){var b=f.plugins[a](f,f.params[a]);b&&q.push(b)}},f.pluginHook=function(a){for(var b=0;b<q.length;b++)q[b].hooks&&a in q[b].hooks&&q[b].hooks[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},f.pluginPrevent=function(a){for(var b=!1,c=0;c<q.length;c++)q[c].prevents&&a in q[c].prevents&&q[c].prevents[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(b=!0);return b},f.pluginProcess=function(a,b){for(var c=b,d=0;d<q.length;d++)q[d].preprocess&&process in q[d].preprocess&&(c=q[d].preprocess[process](b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return c},f.init=function(){f.initPlugins&&f.initPlugins(),f.getDeviceInfo&&f.getDeviceInfo(),f.initFastClicks&&f.params.fastClicks&&f.initFastClicks(),f.initClickEvents&&f.initClickEvents(),h(".page:not(.cached)").each(function(){var a=h(this),b=a.parents("."+f.params.viewClass);if(0!==b.length){var c=b[0].f7View||!1,d=c&&c.url?c.url:!1;b&&b.attr("data-page",a.attr("data-page")||void 0),f.pageInitCallback(c,this,d,"center")}}),f.initResize&&f.initResize(),f.initPushState&&f.params.pushState&&f.initPushState(),f.initSwipeout&&f.params.swipeout&&f.initSwipeout(),f.initSortable&&f.params.sortable&&f.initSortable(),f.initSwipePanels&&f.params.swipePanel&&f.initSwipePanels(),f.params.onAppInit&&f.params.onAppInit(),f.initTemplate7Templates&&f.initTemplate7Templates(),f.pluginHook("appInit")},f.params.init&&f.init(),f};var a=function(){var a=function(a){var b=this,c=0;for(c=0;c<a.length;c++)b[c]=a[c];return b.length=a.length,this},b=function(b,c){var d=[],e=0;if(b&&!c&&b instanceof a)return b;if(b)if("string"==typeof b){var f=(c||document).querySelectorAll(b);for(e=0;e<f.length;e++)d.push(f[e])}else if(b.nodeType||b===window||b===document)d.push(b);else if(b.length>0&&b[0].nodeType)for(e=0;e<b.length;e++)d.push(b[e]);return new a(d)};a.prototype={addClass:function(a){if("undefined"==typeof a)return this;for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.add(b[c]);return this},removeClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.remove(b[c]);return this},hasClass:function(a){return this[0]?this[0].classList.contains(a):!1},toggleClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.toggle(b[c]);return this},attr:function(a,b){if("undefined"==typeof b)return this[0]?this[0].getAttribute(a):void 0;for(var c=0;c<this.length;c++)this[c].setAttribute(a,b);return this},removeAttr:function(a){for(var b=0;b<this.length;b++)this[b].removeAttribute(a)},prop:function(a,b){if("undefined"==typeof b)return this[0]?this[0][a]:void 0;for(var c=0;c<this.length;c++)this[c][a]=b;return this},data:function(a,b){if("undefined"==typeof b){if(this[0]){var c=this[0].getAttribute("data-"+a);return c?c:this[0].dom7ElementDataStorage&&a in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[a]:void 0}return void 0}for(var d=0;d<this.length;d++){var e=this[d];e.dom7ElementDataStorage||(e.dom7ElementDataStorage={}),e.dom7ElementDataStorage[a]=b}return this},val:function(a){if("undefined"==typeof a)return this[0]?this[0].value:null;for(var b=0;b<this.length;b++)this[b].value=a;return this},transform:function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this},transition:function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this},on:function(a,c,d,e){function f(a){var e=a.target;if(b(e).is(c))d.call(e,a);else for(var f=b(e).parents(),g=0;g<f.length;g++)b(f[g]).is(c)&&d.call(f[g],a)}var g,h,i=a.split(" ");for(g=0;g<this.length;g++)if("function"==typeof c||c===!1)for("function"==typeof c&&(d=arguments[1],e=arguments[2]||!1),h=0;h<i.length;h++)this[g].addEventListener(i[h],d,e);else for(h=0;h<i.length;h++)this[g].dom7LiveListeners||(this[g].dom7LiveListeners=[]),this[g].dom7LiveListeners.push({listener:d,liveListener:f}),this[g].addEventListener(i[h],f,e);return this},off:function(a,b,c,d){for(var e=a.split(" "),f=0;f<e.length;f++)for(var g=0;g<this.length;g++)if("function"==typeof b||b===!1)"function"==typeof b&&(c=arguments[1],d=arguments[2]||!1),this[g].removeEventListener(e[f],c,d);else if(this[g].dom7LiveListeners)for(var h=0;h<this[g].dom7LiveListeners.length;h++)this[g].dom7LiveListeners[h].listener===c&&this[g].removeEventListener(e[f],this[g].dom7LiveListeners[h].liveListener,d);return this},once:function(a,b,c,d){function e(g){c(g),f.off(a,b,e,d)}var f=this;"function"==typeof b&&(b=!1,c=arguments[1],d=arguments[2]),f.on(a,b,e,d)},trigger:function(a,b){for(var c=0;c<this.length;c++){var d;try{d=new CustomEvent(a,{detail:b,bubbles:!0,cancelable:!0})}catch(e){d=document.createEvent("Event"),d.initEvent(a,!0,!0),d.detail=b}this[c].dispatchEvent(d)}return this},transitionEnd:function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},animationEnd:function(a){function b(f){for(a(f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width"))-parseFloat(this.css("padding-left"))-parseFloat(this.css("padding-right")):null},outerWidth:function(a){return this.length>0?a?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?this[0].offsetHeight-parseFloat(this.css("padding-top"))-parseFloat(this.css("padding-bottom")):null},outerHeight:function(a){return this.length>0?a?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var a=this[0],b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return{top:b.top+f-d,left:b.left+g-e}}return null},hide:function(){for(var a=0;a<this.length;a++)this[a].style.display="none";return this},show:function(){for(var a=0;a<this.length;a++)this[a].style.display="block";return this},css:function(a,b){var c;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c++)for(var d in a)this[c].style[d]=a[d];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c++)this[c].style[a]=b;return this}return this},each:function(a){for(var b=0;b<this.length;b++)a.call(this[b],b,this[b]);return this},html:function(a){if("undefined"==typeof a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b++)this[b].innerHTML=a;return this},text:function(a){if("undefined"==typeof a)return this[0]?this[0].textContent.trim():null;for(var b=0;b<this.length;b++)this[0].textContent=a},is:function(c){if(!this[0])return!1;var d,e;if("string"==typeof c){var f=this[0];if(f===document)return c===document;if(f===window)return c===window;if(f.matches)return f.matches(c);if(f.webkitMatchesSelector)return f.webkitMatchesSelector(c);if(f.mozMatchesSelector)return f.mozMatchesSelector(c);if(f.msMatchesSelector)return f.msMatchesSelector(c);for(d=b(c),e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}if(c===document)return this[0]===document;if(c===window)return this[0]===window;if(c.nodeType||c instanceof a){for(d=c.nodeType?[c]:c,e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}return!1},indexOf:function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b},index:function(){if(this[0]){for(var a=this[0],b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}return void 0},eq:function(b){if("undefined"==typeof b)return this;var c,d=this.length;return b>d-1?new a([]):0>b?(c=d+b,new a(0>c?[]:[this[c]])):new a([this[b]])},append:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b;e.firstChild;)this[c].appendChild(e.firstChild)}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].appendChild(b[d]);else this[c].appendChild(b);return this},prepend:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b,d=e.childNodes.length-1;d>=0;d--)this[c].insertBefore(e.childNodes[d],this[c].childNodes[0])}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].insertBefore(b[d],this[c].childNodes[0]);else this[c].insertBefore(b,this[c].childNodes[0]);return this},insertBefore:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0]);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e])},insertAfter:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0].nextSibling);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e].nextSibling)},next:function(c){return new a(this.length>0?c?this[0].nextElementSibling&&b(this[0].nextElementSibling).is(c)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.nextElementSibling;){var f=e.nextElementSibling;d.push(c&&b(f).is(c)?f:f),e=f}return new a(d)},prev:function(c){return new a(this.length>0?c?this[0].previousElementSibling&&b(this[0].previousElementSibling).is(c)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.previousElementSibling;){var f=e.previousElementSibling;d.push(c&&b(f).is(c)?f:f),e=f}return new a(d)},parent:function(a){for(var c=[],d=0;d<this.length;d++)a?b(this[d].parentNode).is(a)&&c.push(this[d].parentNode):c.push(this[d].parentNode);return b(b.unique(c))},parents:function(a){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].parentNode;e;)a?b(e).is(a)&&c.push(e):c.push(e),e=e.parentNode;return b(b.unique(c))},find:function(b){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].querySelectorAll(b),f=0;f<e.length;f++)c.push(e[f]);return new a(c)},children:function(c){for(var d=[],e=0;e<this.length;e++)for(var f=this[e].childNodes,g=0;g<f.length;g++)c?1===f[g].nodeType&&b(f[g]).is(c)&&d.push(f[g]):1===f[g].nodeType&&d.push(f[g]);return new a(b.unique(d))},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},detach:function(){return this.remove()}},function(){function b(b){a.prototype[b]=function(a){var c;if("undefined"==typeof a){for(c=0;c<this.length;c++)d.indexOf(b)<0&&this[c][b]();return this}return this.on(b,a)}}for(var c="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),d="resize scroll".split(" "),e=0;e<c.length;e++)b(c[e])}();var c=0;return b.ajax=function(a){var d={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0};a.type&&(a.method=a.type);for(var e in d)e in a||(a[e]=d[e]);a.url||(a.url=window.location.toString());var f=a.method.toUpperCase();if(("GET"===f||"HEAD"===f)&&a.data){var g;g="string"==typeof a.data?a.data.indexOf("?")>=0?a.data.split("?")[1]:a.data:b.serializeObject(a.data),a.url+=a.url.indexOf("?")>=0?"&"+g:"?"+g}if("json"===a.dataType&&a.url.indexOf("callback=")>=0){var h,i,j="f7jsonp_"+Date.now()+c++,k=a.url.split("callback=");if(k[1].indexOf("&")>=0){var l=k[1].split("&").filter(function(a){return a.indexOf("=")>0}).join("&");h=k[0]+"callback="+j+(l.length>0?"&"+l:"")}else h=k[0]+"callback="+j;var m=document.createElement("script");return m.type="text/javascript",m.onerror=function(){clearTimeout(i),a.error&&a.error()},m.src=h,window[j]=function(b){clearTimeout(i),a.success&&a.success(b),m.parentNode.removeChild(m),m=null,delete window[j]},document.querySelector("head").appendChild(m),void(a.timeout>0&&(i=setTimeout(function(){m.parentNode.removeChild(m),m=null,a.error&&a.error()},a.timeout)))}("GET"===f||"HEAD"===f)&&a.cache===!1&&(a.url+="_nocache="+Date.now());var n=new XMLHttpRequest;n.open(f,a.url,a.async,a.user,a.password);var o=null;if(("POST"===f||"PUT"===f)&&a.data)if(a.processData){var p=[ArrayBuffer,Blob,Document,FormData];if(p.indexOf(a.data.constructor)>=0)o=a.data;else{var q="---------------------------"+Date.now().toString(16);"multipart/form-data"===a.contentType?n.setRequestHeader("Content-Type","multipart/form-data; boundary="+q):n.setRequestHeader("Content-Type",a.contentType),o="";var r=b.serializeObject(a.data);if("multipart/form-data"===a.contentType){q="---------------------------"+Date.now().toString(16),r=r.split("&");for(var s=[],t=0;t<r.length;t++)s.push('Content-Disposition: form-data; name="'+r[t].split("=")[0]+'"\r\n\r\n'+r[t].split("=")[1]+"\r\n");o="--"+q+"\r\n"+s.join("--"+q+"\r\n")+"--"+q+"--\r\n"}else o="application/x-www-form-urlencoded"===a.contentType?r:r.replace(/&/g,"\r\n")}}else o=a.data;if(a.headers)for(var u in a.headers)n.setRequestHeader(u,a.headers[u]);if("undefined"==typeof a.crossDomain&&(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!==window.location.host),a.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.xhrFields)for(var v in a.xhrFields)n[v]=a.xhrFields[v];return n.onload=function(){if((200===n.status||0===n.status)&&(b(document).trigger("ajaxSuccess",{xhr:n}),a.success)){var c=n.responseText;"json"===a.dataType&&(c=JSON.parse(c)),a.success(c,n.status,n)}a.statusCode&&a.statusCode[n.status]&&a.statusCode[n.status](n),a.complete&&a.complete(n),b(document).trigger("ajaxComplete",{xhr:n})},n.onerror=function(){b(document).trigger("ajaxError",{xhr:n}),a.error&&a.error(n)},a.start&&a.start(n),b(document).trigger("ajaxStart",{xhr:n}),n.send(o),n},function(){function a(a){b[a]=function(c,d,e){return b.ajax({url:c,method:"post"===a?"POST":"GET",data:"function"==typeof d?void 0:d,success:"function"==typeof d?d:e,dataType:"getJSON"===a?"json":void 0})}}for(var c="get post getJSON".split(" "),d=0;d<c.length;d++)a(c[d])}(),b.parseUrlQuery=function(a){var b,c,d,e={};if(!(a.indexOf("?")>=0))return e;for(a=a.split("?")[1],c=a.split("&"),b=0;b<c.length;b++)d=c[b].split("="),e[d[0]]=d[1];return e},b.isArray=function(a){return"[object Array]"===Object.prototype.toString.apply(a)?!0:!1},b.unique=function(a){for(var b=[],c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b},b.trim=function(a){return a.trim()},b.serializeObject=function(a){if("string"==typeof a)return a;
var c=[],d="&";for(var e in a)if(b.isArray(a[e])){for(var f=[],g=0;g<a[e].length;g++)f.push(e+"="+a[e][g]);c.push(f.join(d))}else c.push(e+"="+a[e]);return c.join(d)},b.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?f=new WebKitCSSMatrix("none"===e.webkitTransform?"":e.webkitTransform):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:parseFloat(16===c.length?c[12]:c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:parseFloat(16===c.length?c[13]:c[5])),d||0},b.requestAnimationFrame=function(a){return window.requestAnimationFrame?window.requestAnimationFrame(a):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(a):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(a):window.setTimeout(a,1e3/60)},b.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),b.fn=a.prototype,b.fn.scrollTo=function(a,c,d){return this.each(function(){function e(a){void 0===a&&(a=(new Date).getTime()),null===q&&(q=a);var c;o&&(l=f+(a-q)/d*(j-f)),p&&(m=g+(a-q)/d*(k-g)),o&&j>f&&l>=j&&(n.scrollTop=j,c=!0),o&&f>j&&j>=l&&(n.scrollTop=j,c=!0),p&&k>g&&m>=k&&(n.scrollLeft=k,c=!0),p&&g>k&&k>=m&&(n.scrollLeft=k,c=!0),c||(o&&(n.scrollTop=l),p&&(n.scrollLeft=m),b.requestAnimationFrame(e))}var f,g,h,i,j,k,l,m,n=this,o=c>0||0===c,p=a>0||0===a;if(o&&(f=n.scrollTop,d||(n.scrollTop=c)),p&&(g=n.scrollLeft,d||(n.scrollLeft=a)),d){o&&(h=n.scrollHeight-n.offsetHeight,j=Math.max(Math.min(c,h),0)),p&&(i=n.scrollWidth-n.offsetWidth,k=Math.max(Math.min(a,i),0));var q=null;o&&j===f&&(o=!1),p&&k===g&&(p=!1),b.requestAnimationFrame(e)}})},b.fn.scrollTop=function(a,b){var c=this;return"undefined"==typeof a?c.length>0?c[0].scrollTop:null:c.scrollTo(void 0,a,b)},b.fn.scrollLeft=function(a,b){var c=this;return"undefined"==typeof a?c.length>0?c[0].scrollLeft:null:c.scrollTo(a,void 0,b)},b}();Framework7.$=a;window.Dom7=a,Framework7.prototype.support=function(){var a={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return a}(),Framework7.prototype.device=function(){var b={},c=navigator.userAgent,d=a,e=c.match(/(Android);?[\s\/]+([\d.]+)?/),f=c.match(/(iPad).*OS\s([\d_]+)/),g=c.match(/(iPod)(.*OS\s([\d_]+))?/),h=!f&&c.match(/(iPhone\sOS)\s([\d_]+)/);if(b.ios=b.android=b.iphone=b.ipad=!1,e&&(b.os="android",b.osVersion=e[2],b.android=!0),(f||h||g)&&(b.os="ios",b.ios=!0),h&&!g&&(b.osVersion=h[2].replace(/_/g,"."),b.iphone=!0),f&&(b.osVersion=f[2].replace(/_/g,"."),b.ipad=!0),g&&(b.osVersion=g[3]?g[3].replace(/_/g,"."):null,b.iphone=!0),b.ios&&b.osVersion&&c.indexOf("Version/")>=0&&"10"===b.osVersion.split(".")[0]&&(b.osVersion=c.toLowerCase().split("version/")[1].split(" ")[0]),b.webView=(h||f||g)&&c.match(/.*AppleWebKit(?!.*Safari)/i),b.os&&"ios"===b.os){var i=b.osVersion.split(".");b.minimalUi=!b.webView&&(g||h)&&(1*i[0]===7?1*i[1]>=1:1*i[0]>7)&&d('meta[name="viewport"]').length>0&&d('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var j=d(window).width(),k=d(window).height();b.statusBar=!1,b.statusBar=b.webView&&j*k===screen.width*screen.height?!0:!1;var l=[];if(b.pixelRatio=window.devicePixelRatio||1,b.pixelRatio>=2&&l.push("retina"),b.os&&(l.push(b.os,b.os+"-"+b.osVersion.split(".")[0],b.os+"-"+b.osVersion.replace(/\./g,"-")),"ios"===b.os))for(var m=parseInt(b.osVersion.split(".")[0],10),n=m-1;n>=6;n--)l.push("ios-gt-"+n);return b.statusBar?l.push("with-statusbar-overlay"):d("html").removeClass("with-statusbar-overlay"),l.length>0&&d("html").addClass(l.join(" ")),b}(),Framework7.prototype.plugins={}}(),window.Template7=function(){"use strict";function a(a){return"[object Array]"===Object.prototype.toString.apply(a)}function b(a){return"function"==typeof a}function c(a){var b,c,d,e=a.replace(/[{}#}]/g,"").split(" "),f=[];for(c=0;c<e.length;c++){var g=e[c];if(0===c)f.push(g);else if(0===g.indexOf('"'))if(2===g.match(/"/g).length)f.push(g);else{for(b=0,d=c+1;d<e.length;d++)if(g+=" "+e[d],e[d].indexOf('"')>=0){b=d,f.push(g);break}b&&(c=b)}else if(g.indexOf("=")>0){var h=g.split("="),i=h[0],j=h[1];if(2!==j.match(/"/g).length){for(b=0,d=c+1;d<e.length;d++)if(j+=" "+e[d],e[d].indexOf('"')>=0){b=d;break}b&&(c=b)}var k=[i,j.replace(/"/g,"")];f.push(k)}else f.push(g)}return f}function d(b){var d,e,f=[];if(!b)return[];var g=b.split(/({{[^{^}]*}})/);for(d=0;d<g.length;d++){var h=g[d];if(""!==h)if(h.indexOf("{{")<0)f.push({type:"plain",content:h});else{if(h.indexOf("{/")>=0)continue;if(h.indexOf("{#")<0&&h.indexOf(" ")<0&&h.indexOf("else")<0){f.push({type:"variable",contextName:h.replace(/[{}]/g,"")});continue}var i=c(h),j=i[0],k=[],l={};for(e=1;e<i.length;e++){var m=i[e];a(m)?l[m[0]]="false"===m[1]?!1:m[1]:k.push(m)}if(h.indexOf("{#")>=0){var n,o="",p="",q=0,r=!1,s=!1,t=0;for(e=d+1;e<g.length;e++)if(g[e].indexOf("{{#")>=0&&t++,g[e].indexOf("{{/")>=0&&t--,g[e].indexOf("{{#"+j)>=0)o+=g[e],s&&(p+=g[e]),q++;else if(g[e].indexOf("{{/"+j)>=0){if(!(q>0)){n=e,r=!0;break}q--,o+=g[e],s&&(p+=g[e])}else g[e].indexOf("else")>=0&&0===t?s=!0:(s||(o+=g[e]),s&&(p+=g[e]));r&&(n&&(d=n),f.push({type:"helper",helperName:j,contextName:k,content:o,inverseContent:p,hash:l}))}else h.indexOf(" ")>0&&f.push({type:"helper",helperName:j,contextName:k,hash:l})}}return f}var e=function(a){function b(a,b){return a.content?g(a.content,b):function(){return""}}function c(a,b){return a.inverseContent?g(a.inverseContent,b):function(){return""}}function e(a,b){var c;if(a.indexOf(".")>0)c=0===a.indexOf("this")?a.replace("this",b):b+"."+a;else if(0===a.indexOf("../")){var d=a.split("../").length-1,e=a.split("../")[a.split("../").length-1],f=b.split("_")[1]-d;c="ctx_"+(f>=1?f:1)+"."+e}else c="this"===a?b:b+"."+a;return a&&a.indexOf("@")>=0&&(c="(data && data."+a.replace("@","")+")"),c}function f(a,b){for(var c=[],d=0;d<a.length;d++)c.push(0===a[d].indexOf('"')?a[d]:e(a[d],b));return c.join(", ")}function g(a,g){if(g=g||1,a=a||h.template,"string"!=typeof a)throw new Error("Template7: Template must be a string");var i=d(a);if(0===i.length)return function(){return""};var j="ctx_"+g,k="(function ("+j+", data) {\n";1===g&&(k+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",k+="function isFunction(func){return (typeof func === 'function');}\n",k+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),k+="var r = '';\n";var l;for(l=0;l<i.length;l++){var m=i[l];if("plain"!==m.type){var n,o;if("variable"===m.type&&(n=e(m.contextName,j),k+="r += c("+n+", "+j+");"),"helper"===m.type)if(m.helperName in h.helpers)o=f(m.contextName,j),k+="r += (Template7.helpers."+m.helperName+").call("+j+", "+(o&&o+",")+"{hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+b(m,g+1)+", inverse: "+c(m,g+1)+"});";else{if(m.contextName.length>0)throw new Error('Template7: Missing helper: "'+m.helperName+'"');n=e(m.helperName,j),k+="if ("+n+") {",k+="if (isArray("+n+")) {",k+="r += (Template7.helpers.each).call("+j+", "+n+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+b(m,g+1)+", inverse: "+c(m,g+1)+"});",k+="}else {",k+="r += (Template7.helpers.with).call("+j+", "+n+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+b(m,g+1)+", inverse: "+c(m,g+1)+"});",k+="}}"}}else k+="r +='"+m.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return k+="\nreturn r;})",eval.call(window,k)}var h=this;h.template=a,h.compile=function(a){return h.compiled||(h.compiled=g(a)),h.compiled}};e.prototype={options:{},helpers:{"if":function(a,c){return b(a)&&(a=a.call(this)),a?c.fn(this,c.data):c.inverse(this,c.data)},unless:function(a,c){return b(a)&&(a=a.call(this)),a?c.inverse(this,c.data):c.fn(this,c.data)},each:function(c,d){var e="",f=0;if(b(c)&&(c=c.call(this)),a(c)){for(d.hash.reverse&&(c=c.reverse()),f=0;f<c.length;f++)e+=d.fn(c[f],{first:0===f,last:f===c.length-1,index:f});d.hash.reverse&&(c=c.reverse())}else for(var g in c)f++,e+=d.fn(c[g],{key:g});return f>0?e:d.inverse(this)},"with":function(a,c){return b(a)&&(a=a.call(this)),c.fn(a)},join:function(a,c){return b(a)&&(a=a.call(this)),a.join(c.hash.delimeter)}}};var f=function(a,b){if(2===arguments.length){var c=new e(a),d=c.compile()(b);return c=null,d}return new e(a)};return f.registerHelper=function(a,b){e.prototype.helpers[a]=b},f.unregisterHelper=function(a){e.prototype.helpers[a]=void 0,delete e.prototype.helpers[a]},f.compile=function(a,b){var c=new e(a,b);return c.compile()},f.options=e.prototype.options,f.helpers=e.prototype.helpers,f}();
//# sourceMappingURL=framework7.min.js.map